{"version":3,"sources":["saveload.js","class/Resource.js","data/resources.js","modules/resources.js","util/notation.js","resources/Resources.png","components/ResourceGrid/ResourceImage.js","components/ResourceGrid/ResourceCost.js","components/ResourceGrid/ResourceAutomates.js","components/ResourceGrid/ResourceRandom.js","components/ResourceGrid/ResourceProduction.js","components/ResourceGrid/Resource.js","components/ResourceGrid/ResourceGrid.js","modules/prestige.js","components/Aside/Prestige.js","components/Aside/NewGame.js","components/Aside/Booster.js","components/Aside/Stats.js","components/Aside/Aside.js","App.js","reportWebVitals.js","modules/aside.js","modules/index.js","store.js","tick.js","index.js"],"names":["saveKey","DefaultSave","resources","Array","from","length","_","have","lastTime","progress","unlocked","empower","automationDisabled","aside","unlockStatus","Prestige","NewGame","Booster","prestige","doingPrestige","totalPrestigeResourceQuantity","lastPrestigeResourceQuantity","savefile","mergeObject","JSON","parse","localStorage","getItem","load","target","source","i","isArray","mergeArray","constructor","l","Resource","data","this","name","description","unlockAt","_cost","cost","craftTime","craftMultiply","_position","position","randomGrantOnCraft","_effectMultiply","effectMultiply","noCostIfAutomate","defaultQuantity","keepOnPrestige","automates","order","canEmpower","undefined","x","y","effMult","isAuto","resource","Math","ceil","Resources","TreeSeed","Tree","Log","Plank","Charcoal","Vine","Mushroom","Fruit","Explorer","sqrt","Orchard","Trap","Animal","TreasureMap","Loot","Wall","House","Citizen","CityBuilder","Stone","Pickaxe","CopperOre","IronOre","GoldOre","ShinyStone","mult","GemstonePickaxe","GemBoost","EmeraldStone","AmethystStone","RubyStone","SapphireStone","Brick","Copper","Iron","Gold","Emerald","Amethyst","Ruby","Sapphire","Energy","PickaxeUpgrade","MetalworkBoost","LiquidBoost","Generator","GeneratorBoost","Water","Lava","Steam","UpgradePotion","UpgradePotionII","Sand","Glass","Axe","Saw","max","Pump","Volcano","MetalworkFactory","CharcoalMiner","GemCutter","Forest","Underground","Ocean","City","EarthEssence","DivinePowder","log","floor","DivineShard","Empowerer","FastForward","Cluster","Infinity","ResourceArr","min","ReplicantiBoost","Replicanti","replicanti","replicantiBoost","replicantiPow","fill","id","AutoConnected","findIndex","e","includes","getResourceByName","canBuy","startTime","bulk","resourceName","_have","getCooldown","isUnlocked","CRAFT_START","CRAFT_UPDATE","RESOURCE_UNLOCK","TOGGLE_AUTO","RESOURCE_EMPOWER","RESET_RESOURCE_DATA","craftStart","type","craftUpdate","Time","progressIncrement","dontUpdate","resourceUnlock","resetResourceData","buyResource","state","bulkMax","_order","reducer","action","Date","getTime","EffectMultiply","chance","toGrant","realChance","grantChance","grantCount","round","random","notation1","notation2","notation3","notation","OOM","log10","abs","suffixLevel","suffixPart","numberPart","toFixed","Number","isInteger","Image","styled","div","ResourceImage","size","style","content","backgroundPosition","RescouceCostTable","ResourceCost","map","index","costResourceName","costQuantity","display","flexDirection","justifyContent","color","fontSize","fontWeight","textShadow","textAlign","border","borderRadius","filter","appearAnimation","keyframes","Warpper","ResourceAutomate","save","icon","faCogs","left","bottom","transform","zIndex","_ResourceName","_Resource","ResourceRandomTable","EffectDisplay","ChanceTable","ChanceItem","connect","RandomTable","padStart","ProductionDisplay","autoConnected","cooldown","namespaceAppear","ResourceWarp","ResourceInfo","ResourceProgress","span","ResourceQuantity","toggleAuto","resourceEmpower","selectMode","empowerLeft","useState","isHover","setHover","displayName","replace","useSelector","Object","entries","displayResource","onClick","keys","onMouseEnter","onMouseLeave","backgroundColor","opacity","pointerEvents","margin","height","alignItems","ResourceWarpper","SelectModeButtons","SelectModeButton","ResourceGrid","setSelectMode","resourceSave","EmpowerLeft","reduce","a","b","useCallback","DO_PRESTIGE","END_PRESTIGE","prestigeResourceQuantity","Title","ExchangeDispaly","PrestigeButtonContainer","PrestigeButton","doPrestige","PowderHave","ShardHave","canPrestige","faArrowRight","window","confirm","Stats","Container","Aside","lockedStyle","GlobalStyle","createGlobalStyle","MainContainer","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UNLOCK_TAB","toUnlock","rootReducer","combineReducers","store","createStore","lastSave","Tick","getState","setItem","stringify","dispatch","j","ReactDOM","render","StrictMode","document","getElementById","setInterval","tick"],"mappings":"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","file":"static/js/main.7a1de874.chunk.js","sourcesContent":["const saveKey = \"resource_grid\";\r\n\r\nexport const DefaultSave = {\r\n  resources: Array.from({ length: 81 }, _ => ({\r\n    have: 0,\r\n    lastTime: null,\r\n    progress: 0,\r\n    unlocked: false,\r\n    empower: 0,\r\n    automationDisabled: false,\r\n  })),\r\n  aside: {\r\n    unlockStatus: {\r\n      Prestige: false,\r\n      NewGame: false,\r\n      Booster: false,\r\n    }\r\n  },\r\n  prestige: {\r\n    doingPrestige: false,\r\n    totalPrestigeResourceQuantity: 0,\r\n    lastPrestigeResourceQuantity: 0\r\n  }\r\n};\r\nDefaultSave.resources[0].have = 1;\r\n\r\nexport function save(savefile) {\r\n  localStorage.setItem(saveKey, JSON.stringify(savefile));\r\n}\r\n\r\n/** @returns {DefaultSave} */\r\nexport function load() {\r\n  return mergeObject(JSON.parse(localStorage.getItem(saveKey)) ?? {}, DefaultSave);\r\n}\r\nexport const savefile = load();\r\n\r\nfunction mergeObject(target, source) {\r\n  target = target ?? {};\r\n  for (const i in source) {\r\n    if (Array.isArray(source[i])) {\r\n      target[i] = target[i] ?? [];\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction mergeArray(target, source) {\r\n  for (let i = 0, l = source.length; i < l; i++) {\r\n    if (Array.isArray(source[i])) {\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","export default class Resource {\r\n  /**\r\n   * @typedef ResourceConstructor\r\n   * @property {string} name - Name of the resource\r\n   * @property {string} description - Description of the resource\r\n   * @property {Object.<stringe, number>} unlockAt - Check resource is unlocked\r\n   * @property {Object.<string, number> | function(number): RescourceEnum.<string, number> } [cost] - {[id]: quantity} | Cost of the resource\r\n   * @property {number} [craftTime] - Crafting/Generating time (in second)\r\n   * @property {number} [craftMultiply] - Craft multiply (default: 1)\r\n   * @property {[number, number]} position - Position on Rescource Grid\r\n   * @property {[number, string][]} [randomGrantOnCraft] - [chance, id] | Randomely grants resource on craft\r\n   * @property {function(object): number} [effectMultiply] - Multiply random chance and Automate speed\r\n   * @property {boolean} [noCostIfAutomate] - yes\r\n   * @property {number} [defaultQuantity] - default\r\n   * @property {boolean} [keepOnPrestige] - Keep this resource on prestige\r\n   * @property {string[]} [automates] - Automatically craft/generate resource\r\n   */\r\n  /** @param {ResourceConstructor} data */\r\n  constructor(data) {\r\n    this.name = data.name;\r\n    this.description = data.description;\r\n    this.unlockAt = data.unlockAt;\r\n    this._cost = data.cost;\r\n    this.craftTime = data.craftTime;\r\n    this.craftMultiply = data.craftMultiply || 1;\r\n    this._position = data.position;\r\n    this.randomGrantOnCraft = data.randomGrantOnCraft ?? [];\r\n    this._effectMultiply = data.effectMultiply;\r\n    this.noCostIfAutomate = data.noCostIfAutomate || false;\r\n    this.defaultQuantity = data.defaultQuantity || 0;\r\n    this.keepOnPrestige = data.keepOnPrestige || false;\r\n    this.automates = data.automates;\r\n    \r\n    this.order = 9*this._position[0] + this._position[1];\r\n    this.canEmpower = this.craftTime !== undefined || this.automates !== undefined;\r\n  }\r\n\r\n  get position() {\r\n    return {\r\n      x: this._position[1],\r\n      y: this._position[0]\r\n    }\r\n  }\r\n\r\n  effectMultiply(savefile) {\r\n    let effMult = 1;\r\n    if (typeof this._effectMultiply === 'function') {\r\n      effMult *= this._effectMultiply(savefile);\r\n    }\r\n\r\n    effMult *= 1 + savefile[this.order].empower/2;\r\n\r\n    return effMult;\r\n  }\r\n\r\n  cost(have, isAuto) {\r\n    let cost;\r\n    if (typeof this._cost === 'undefined' || (isAuto && this.noCostIfAutomate)) {\r\n      return null;\r\n    } else if (typeof this._cost === 'function') {\r\n      cost = this._cost(have);\r\n    } else {\r\n      cost = this._cost;\r\n    }\r\n\r\n    for (const resource in cost) {\r\n      cost[resource] = Math.ceil(cost[resource]);\r\n      if (cost[resource] <= 0) delete cost[resource];\r\n    }\r\n    return cost;\r\n  }\r\n}\r\n\r\n","// eslint-disable-next-line\r\nimport { DefaultSave } from \"../saveload\";\r\nimport Resource from \"../class/Resource.js\"; \r\n\r\nexport const Resources = {\r\n  TreeSeed: new Resource({\r\n    name: \"TreeSeed\",\r\n    description: \"Generate tree\",\r\n    automates: [\"Tree\"],\r\n    unlockAt: {},\r\n    defaultQuantity: 1,\r\n    position: [0, 0]\r\n  }),\r\n  Tree: new Resource({\r\n    name: \"Tree\",\r\n    craftTime: 20,\r\n    unlockAt: {},\r\n    position: [0, 1]\r\n  }),\r\n  Log: new Resource({\r\n    name: \"Log\",\r\n    cost: {\r\n      \"Tree\": 1\r\n    },\r\n    craftTime: 20,\r\n    craftMultiply: 2,\r\n    randomGrantOnCraft: [\r\n      [0.0008, \"TreeSeed\", 0],\r\n      [0.05, \"Fruit\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Tree\": 1,\r\n    },\r\n    position: [0, 2]\r\n  }),\r\n  Plank: new Resource({\r\n    name: \"Plank\",\r\n    cost: {\r\n      \"Log\": 1\r\n    },\r\n    craftTime: 15,\r\n    craftMultiply: 3,\r\n    unlockAt: {\r\n      \"Log\": 1\r\n    },\r\n    position: [0, 3]\r\n  }),\r\n  Charcoal: new Resource({\r\n    name: \"Charcoal\",\r\n    cost: {\r\n      \"Plank\": 3\r\n    },\r\n    craftTime: 3,\r\n    craftMultiply: 4,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    noCostIfAutomate: true,\r\n    position: [0, 4]\r\n  }),\r\n  Vine: new Resource({\r\n    name: \"Vine\",\r\n    unlockAt: {\r\n      \"Vine\": 1\r\n    },\r\n    position: [0, 5]\r\n  }),\r\n  Mushroom: new Resource({\r\n    name: \"Mushroom\",\r\n    unlockAt: {\r\n      \"Mushroom\": 1\r\n    },\r\n    position: [0, 6]\r\n  }),\r\n  Fruit: new Resource({\r\n    name: \"Fruit\",\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Fruit\": 1,\r\n    },\r\n    position: [0, 7]\r\n  }),\r\n  Explorer: new Resource({\r\n    name: \"Explorer\",\r\n    cost: (have) => ({\r\n      \"Loot\": 10*(have+1)**1.2,\r\n      \"TreasureMap\": 15*(have+1)**1.1,\r\n      \"Citizen\": 150*(have/2+1)**1.1,\r\n      \"Animal\": 15*(have+1)**1.1,\r\n      \"Fruit\": 1000*(have+1)**1.3,\r\n      \"Energy\": 10**(6.2+Math.sqrt(have/2))\r\n    }),\r\n    automates: [\"Trap\", \"Animal\", \"TreasureMap\", \"Loot\"],\r\n    craftTime: 300,\r\n    unlockAt: {\r\n      \"Loot\": 1,\r\n    },\r\n    position: [0, 8]\r\n  }),\r\n\r\n  Orchard: new Resource({\r\n    name: \"Orchard\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 3+(have*2)**1.2,\r\n      \"Fruit\": 1,\r\n      \"Sand\": 1000*(have+1),\r\n      \"Water\": 35*(have+1)**1.1\r\n    }),\r\n    automates: [\"Fruit\"],\r\n    craftTime: 150,\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [1, 0]\r\n  }),\r\n  Trap: new Resource({\r\n    name: \"Trap\",\r\n    cost: {\r\n      \"Iron\": 150,\r\n      \"Energy\": 50,\r\n      \"Glass\": 100,\r\n      \"Fruit\": 1,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Orchard\": 1\r\n    },\r\n    position: [1, 1]\r\n  }),\r\n  Animal: new Resource({\r\n    name: \"Animal\",\r\n    cost: {\r\n      \"Trap\": 1,\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.5, \"Animal\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Trap\": 1\r\n    },\r\n    position: [1, 2]\r\n  }),\r\n  TreasureMap: new Resource({\r\n    name: \"TreasureMap\",\r\n    cost: {\r\n      \"ShinyStone\": 250,\r\n      \"Plank\": 1000,\r\n      \"Water\": 50\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.75, \"TreasureMap\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Animal\": 1\r\n    },\r\n    position: [1, 3]\r\n  }),\r\n  Loot: new Resource({\r\n    name: \"Loot\",\r\n    cost: {\r\n      \"Citizen\": 1,\r\n      \"Animal\": 1,\r\n      \"TreasureMap\": 1,\r\n      \"Energy\": 200,\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.5, \"TreeSeed\"],\r\n      [0.7, \"Vine\"],\r\n      [0.35, \"Mushroom\"],\r\n      [0.08, \"UpgradePotion\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"TreasureMap\": 1,\r\n    },\r\n    position: [1, 4]\r\n  }),\r\n  Wall: new Resource({\r\n    name: \"Wall\",\r\n    cost: {\r\n      \"Brick\": 3,\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"Brick\": 1,\r\n    },\r\n    position: [1, 5]\r\n  }),\r\n  House: new Resource({\r\n    name: \"House\",\r\n    cost: {\r\n      \"Wall\": 4,\r\n      \"Glass\": 2,\r\n    },\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"Wall\": 1,\r\n    },\r\n    position: [1, 6]\r\n  }),\r\n  Citizen: new Resource({\r\n    name: \"Citizen\",\r\n    cost: {\r\n      \"House\": 1,\r\n      \"Fruit\": 5,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"House\": 1,\r\n    },\r\n    position: [1, 7]\r\n  }),\r\n  CityBuilder: new Resource({\r\n    name: \"CityBuilder\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 3*(have+1)**2,\r\n      \"Energy\": 100*(have+1)**1.6,\r\n      \"Iron\": 300*(have+1)**1.2,\r\n      \"Gold\": 500*(have+1)**1.2\r\n    }),\r\n    craftTime: 200,\r\n    automates: [\"Brick\", \"Wall\", \"House\", \"Glass\", \"Citizen\"],\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n    },\r\n    position: [1, 8]\r\n  }),\r\n\r\n  Stone: new Resource({\r\n    name: \"Stone\",\r\n    craftTime: 20,\r\n    randomGrantOnCraft: [\r\n      [0.07, \"Sand\"],\r\n      [0.07, \"CopperOre\"],\r\n      [0.03, \"IronOre\"],\r\n      [0.015, \"GoldOre\"],\r\n      [0.001, \"EmeraldStone\"],\r\n    ],\r\n    description: \"Chance to grant some ore on craft.\\nChance is based on Pickaxe\",\r\n    effectMultiply: (savefile) => savefile[Resources.Pickaxe.order].have**1.3,\r\n    unlockAt: {\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [2, 0]\r\n  }),\r\n  CopperOre: new Resource({\r\n    name: \"CopperOre\",\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [2, 1]\r\n  }),\r\n  IronOre: new Resource({\r\n    name: \"IronOre\",\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [2, 2]\r\n  }),\r\n  GoldOre: new Resource({\r\n    name: \"GoldOre\",\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [2, 3]\r\n  }),\r\n  ShinyStone: new Resource({\r\n    name: \"ShinyStone\",\r\n    craftTime: 45,\r\n    randomGrantOnCraft: [\r\n      [0.03, \"EmeraldStone\"],\r\n      [0.015, \"AmethystStone\"],\r\n      [0.007, \"RubyStone\"],\r\n      [0.003, \"SapphireStone\"],\r\n    ],\r\n    description: \"Chance to grant some gem on craft.\\nChance is based on Gemstone Pickaxe\",\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have;\r\n      mult *= 1+savefile[Resources.GemBoost.order].have/3;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"GemstonePickaxe\": 1,\r\n    },\r\n    position: [2, 4]\r\n  }),\r\n  EmeraldStone: new Resource({\r\n    name: \"EmeraldStone\",\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    position: [2, 5]\r\n  }),\r\n  AmethystStone: new Resource({\r\n    name: \"AmethystStone\",\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [2, 6]\r\n  }),\r\n  RubyStone: new Resource({\r\n    name: \"RubyStone\",\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [2, 7]\r\n  }),\r\n  SapphireStone: new Resource({\r\n    name: \"SapphireStone\",\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [2, 8]\r\n  }),\r\n\r\n  Brick: new Resource({\r\n    name: \"Brick\",\r\n    cost: {\r\n      \"Stone\": 5,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Stone\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    position: [3, 0],\r\n  }),\r\n  Copper: new Resource({\r\n    name: \"Copper\",\r\n    cost: {\r\n      \"CopperOre\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [3, 1]\r\n  }),\r\n  Iron: new Resource({\r\n    name: \"Iron\",\r\n    cost: {\r\n      \"IronOre\": 1,\r\n      \"Charcoal\": 2\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [3, 2]\r\n  }),\r\n  Gold: new Resource({\r\n    name: \"Gold\",\r\n    cost: {\r\n      \"GoldOre\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [3, 3]\r\n  }),\r\n  Emerald: new Resource({\r\n    name: \"Emerald\",\r\n    cost: {\r\n      \"EmeraldStone\": 10,\r\n      \"Lava\": 1\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.2, \"Steam\"]\r\n    ],\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    craftTime: 30,\r\n    position: [3, 5]\r\n  }),\r\n  Amethyst: new Resource({\r\n    name: \"Amethyst\",\r\n    cost: {\r\n      \"AmethystStone\": 10,\r\n      \"Lava\": 2\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.4, \"Steam\"]\r\n    ],\r\n    craftTime: 40,\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [3, 6]\r\n  }),\r\n  Ruby: new Resource({\r\n    name: \"Ruby\",\r\n    cost: {\r\n      \"RubyStone\": 10,\r\n      \"Lava\": 3\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.6, \"Steam\"]\r\n    ],\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [3, 7]\r\n  }),\r\n  Sapphire: new Resource({\r\n    name: \"Sapphire\",\r\n    cost: {\r\n      \"SapphireStone\": 10,\r\n      \"Lava\": 4\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.8, \"Steam\"]\r\n    ],\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [3, 8]\r\n  }),\r\n\r\n  Energy: new Resource({\r\n    name: \"Energy\",\r\n    craftTime: 50,\r\n    randomGrantOnCraft: [\r\n      [0.01, \"Replicanti\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 0]\r\n  }),\r\n  PickaxeUpgrade: new Resource({\r\n    name: \"PickaxeUpgrade\",\r\n    cost: (have) => ({\r\n      \"Energy\": 7*1.2**(have+1),\r\n      \"Emerald\": 3*(have-2),\r\n    }),\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [4, 1]\r\n  }),\r\n  GemBoost: new Resource({\r\n    name: \"GemBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": (100+have*10)*1.5**(have+1),\r\n      \"Amethyst\": 3*(have+1)**1.1\r\n    }),\r\n    craftTime: 45,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"ShinyStone\": 1,\r\n    },\r\n    position: [4, 2]\r\n  }),\r\n  MetalworkBoost: new Resource({\r\n    name: \"MetalworkBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": 3000*2**(have+1),\r\n      \"UpgradePotion\": 1+(have**1.4)/2,\r\n      \"Iron\": 300*(have/3+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"UpgradePotion\": 1\r\n    },\r\n    position: [4, 3]\r\n  }),\r\n  LiquidBoost: new Resource({\r\n    name: \"LiquidBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": 10**(6+have**1.1),\r\n      \"UpgradePotion\": 15*(have+1),\r\n      \"Ruby\": 15*(have+1),\r\n      \"Water\": 1000*(have+1)**1.2,\r\n      \"Lava\": 250*(have+1),\r\n    }),\r\n    craftTime: 75,\r\n    unlockAt: {\r\n      \"MetalworkBoost\": 1\r\n    },\r\n    position: [4, 4]\r\n  }),\r\n  Generator: new Resource({\r\n    name: \"Generator\",\r\n    cost: (have) => ({\r\n      \"Iron\": 30*(have+1),\r\n      \"Lava\": 1+have,\r\n      \"Steam\": have*3,\r\n      \"Citizen\": 1+have,\r\n    }),\r\n    craftTime: 100,\r\n    effectMultiply: (savefile) => 4**savefile[Resources.GeneratorBoost.order].have,\r\n    automates: [\"Energy\"],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 7]\r\n  }),\r\n  GeneratorBoost: new Resource({\r\n    name: \"GeneratorBoost\",\r\n    cost: (have) => ({\r\n      \"Steam\": 50*(have/2+1),\r\n      \"Replicanti\": 100**(have+2),\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"ReplicantiBoost\": 1\r\n    },\r\n    position: [4, 8]\r\n  }),\r\n\r\n  Water: new Resource({\r\n    name: \"Water\",\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [5, 0]\r\n  }),\r\n  Lava: new Resource({\r\n    name: \"Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 100-96*(1-1/(have/14+1)),\r\n      \"Charcoal\": 50-48*(1-1/(have/7+1))\r\n    }),\r\n    unlockAt: {\r\n      \"Stone\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 150,\r\n    position: [5, 1]\r\n  }),\r\n  Steam: new Resource({\r\n    name: \"Steam\",\r\n    cost: {\r\n      \"Water\": 10,\r\n      \"Lava\": 5\r\n    },\r\n    craftTime: 60,\r\n    craftMultiply: 15,\r\n    unlockAt: {\r\n      \"Water\": 1,\r\n      \"Lava\": 1,\r\n    },\r\n    position: [5, 2]\r\n  }),\r\n  UpgradePotion: new Resource({\r\n    name: \"UpgradePotion\",\r\n    cost: {\r\n      \"Vine\": 2,\r\n      \"Mushroom\": 1,\r\n      \"Water\": 5,\r\n      \"Emerald\": 10\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"Vine\": 1,\r\n      \"Mushroom\": 1,\r\n    },\r\n    position: [5, 5]\r\n  }),\r\n  UpgradePotionII: new Resource({\r\n    name: \"UpgradePotionII\",\r\n    cost: {\r\n      \"UpgradePotion\": 100,\r\n      \"Fruit\": 50_000,\r\n      \"Sand\": 10_000_000,\r\n      \"Gold\": 10_000,\r\n      \"Lava\": 5_000,\r\n      \"DivineShard\": 1\r\n    },\r\n    craftTime: 1000,\r\n    unlockAt: {\r\n      \"UpgradePotion\": 1,\r\n      \"DivineShard\": 1,\r\n      \"Replicanti\": 1e190\r\n    },\r\n    position: [5, 6]\r\n  }),\r\n  Sand: new Resource({\r\n    name: \"Sand\",\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 7]\r\n  }),\r\n  Glass: new Resource({\r\n    name: \"Glass\",\r\n    cost: {\r\n      \"Sand\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 6,\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 8]\r\n  }),\r\n\r\n  Axe: new Resource({\r\n    name: \"Axe\",\r\n    description: \"Cuts tree\",\r\n    cost: (have) => ({\r\n      \"Plank\": 3 * (have+1)**2\r\n    }),\r\n    craftTime: 5,\r\n    automates: [\"Log\"],\r\n    unlockAt: {\r\n      \"Plank\": 1,\r\n    },\r\n    position: [6, 0]\r\n  }),\r\n  Saw: new Resource({\r\n    name: \"Saw\",\r\n    description: \"Automates Plank\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have+1)**2,\r\n      \"Iron\": 3 * (have+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    automates: [\"Plank\"],\r\n    unlockAt: {\r\n      \"Iron\": 1,\r\n    },\r\n    position: [6, 1]\r\n  }),\r\n  Pickaxe: new Resource({\r\n    name: \"Pickaxe\",\r\n    description: \"Automatically mines stone\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have + 1)**(have / 100 + 1),\r\n      \"Stone\": 6 * have**1.4,\r\n      \"Copper\": 3 * Math.max(0, have-4)**2,\r\n      \"Iron\": 5 * Math.max(0, have-9)**2,\r\n      \"Gold\": 7 * Math.max(0, have-14)**2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Stone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have + 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Plank\": 1\r\n    },\r\n    position: [6, 2]\r\n  }),\r\n  GemstonePickaxe: new Resource({\r\n    name: \"GemstonePickaxe\",\r\n    description: \"Automatically mines Shiny stone & Boost Pickaxe\",\r\n    cost: (have) => ({\r\n      \"Iron\": 100 * (have+1),\r\n      \"Emerald\": 2 * (have+1),\r\n      \"Amethyst\": 2 * (have-2),\r\n      \"Ruby\": 2 * (have-5),\r\n      \"Sapphire\": 2 * (have-8),\r\n    }),\r\n    craftTime: 120,\r\n    automates: [\"ShinyStone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 3],\r\n  }),\r\n  Pump: new Resource({\r\n    name: \"Pump\",\r\n    description: \"Generates Water\",\r\n    cost: (have) => ({\r\n      \"Copper\": 5*(have+1)**1.2,\r\n      \"Iron\": 3*(have+1)**1.2,\r\n      \"Gold\": 3*(have+1)**1.2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Water\"],\r\n    effectMultiply: (savefile) => savefile[Resources.LiquidBoost.order].have/3+1,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [6, 4]\r\n  }),\r\n  Volcano: new Resource({\r\n    name: \"Volcano\",\r\n    description: \"Automates Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 200,\r\n      \"Lava\": 1*(have+1)*(have/15+1),\r\n    }),\r\n    craftTime: 35,\r\n    automates: [\"Lava\"],\r\n    effectMultiply: (savefile) => savefile[Resources.LiquidBoost.order].have/3+1,\r\n    unlockAt: {\r\n      \"Lava\": 1,\r\n    },\r\n    position: [6, 5]\r\n  }),\r\n  MetalworkFactory: new Resource({\r\n    name: \"MetalworkFactory\",\r\n    description: \"Automates Copper, Iron and Gold\",\r\n    cost: (have) => ({\r\n      \"Copper\": 10*((have+1)**1.15),\r\n      \"Iron\": 10*((have+1)**1.15),\r\n      \"Gold\": 10*((have+1)**1.15),\r\n      \"Pump\": 2,\r\n      \"Volcano\": 1,\r\n    }),\r\n    craftTime: 150,\r\n    automates: [\"Iron\", \"Gold\", \"Copper\"],\r\n    effectMultiply: (savefile) => savefile[Resources.MetalworkBoost.order].have/3+1,\r\n    unlockAt: {\r\n      \"Pump\": 1,\r\n      \"Volcano\": 1,\r\n    },\r\n    position: [6, 6]\r\n  }),\r\n  CharcoalMiner: new Resource({\r\n    name: \"CharcoalMiner\",\r\n    description: \"Mines Charcoal without any cost\",\r\n    cost: (have) => ({\r\n      \"Steam\": 15*(have+1)**1.2,\r\n      \"Pump\": 2,\r\n      \"Iron\": 50*(have+1)*(1+have/20),\r\n      \"Citizen\": 1+have,\r\n    }),\r\n    craftTime: 300,\r\n    automates: [\"Charcoal\"],\r\n    unlockAt: {\r\n      \"MetalworkFactory\": 1,\r\n    },\r\n    position: [6, 7]\r\n  }),\r\n  GemCutter: new Resource({\r\n    name: \"GemCutter\",\r\n    cost: (have) => ({\r\n      \"Energy\": 200*(have+1)**1.2,\r\n      \"Iron\": 1000*(have+1)**1.1,\r\n      \"Water\": 300*(have+1)**1.1,\r\n      \"Lava\": 100*(have+1)**1.1\r\n    }),\r\n    automates: [\"Emerald\", \"Amethyst\", \"Ruby\", \"Sapphire\"],\r\n    craftTime: 300,\r\n    unlockAt: {\r\n      \"CharcoalMiner\": 1,\r\n      \"Energy\": 1,\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 8]\r\n  }),\r\n\r\n  Forest: new Resource({\r\n    name: \"Forest\",\r\n    position: [7, 0]\r\n  }),\r\n  Underground: new Resource({\r\n    name: \"Underground\",\r\n    position: [7, 1]\r\n  }),\r\n  Ocean: new Resource({\r\n    name: \"Ocean\",\r\n    position: [7, 2]\r\n  }),\r\n  City: new Resource({\r\n    name: \"City\",\r\n    position: [7, 3]\r\n  }),\r\n  EarthEssence: new Resource({\r\n    name: \"EarthEssence\",\r\n    unlockAt: {\r\n      \"Forest\": 1,\r\n      \"Underground\": 1,\r\n      \"Ocean\": 1,\r\n      \"City\": 1,\r\n    },\r\n    position: [7, 4]\r\n  }),\r\n\r\n  DivinePowder: new Resource({\r\n    name: \"DivinePowder\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**((have/5)**0.87+6),\r\n      \"Energy\": 10**(2+Math.log(have+1)**1.3),\r\n      \"Sapphire\": 1+have**0.5,\r\n      \"UpgradePotion\": Math.floor(have/100)\r\n    }),\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n      \"Energy\": 1,\r\n    },\r\n    position: [8, 0]\r\n  }),\r\n  DivineShard: new Resource({\r\n    name: \"DivineShard\",\r\n    unlockAt: {\r\n      \"DivinePowder\": 1,\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [8, 1]\r\n  }),\r\n  Empowerer: new Resource({\r\n    name: \"Empowerer\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 1+Math.floor(have**1.2)\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"DivineShard\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [8, 2]\r\n  }),\r\n  FastForward: new Resource({\r\n    name: \"FastForward\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 10*(1+have**1.5/3),\r\n      \"Cluster\": 1+have\r\n    }),\r\n    craftTime: 600,\r\n    unlockAt: {\r\n      \"Empowerer\": 1\r\n    },\r\n    effectMultiply: (savefile) => {\r\n      let FastForward = savefile[Resources.FastForward.order].have\r\n      return 1+(FastForward)*(FastForward+1)/10;\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [8, 3]\r\n  }),\r\n  Cluster: new Resource({\r\n    name: \"Cluster\",\r\n    cost: (have) => ({\r\n      \"UpgradePotionII\": have >= 63 ? Infinity : 0,\r\n      \"Replicanti\": 10**(have),\r\n      [ResourceArr[Math.min(71, have+1)] ? ResourceArr[Math.min(71, have+1)].name : \"DivineShard\"]: 8+have\r\n    }),\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"Empowerer\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [8, 6]\r\n  }),\r\n  ReplicantiBoost: new Resource({\r\n    name: \"ReplicantiBoost\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**(have+2),\r\n      \"Energy\": 10**(1.6+have**0.7)\r\n    }),\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    position: [8, 7]\r\n  }),\r\n  Replicanti: new Resource({\r\n    name: \"Replicanti\",\r\n    cost: {\r\n      \"Replicanti\": 1\r\n    },\r\n    craftMultiply: 2,\r\n    effectMultiply: (savefile) => {\r\n      const replicanti = savefile[Resources.Replicanti.order].have;\r\n      const replicantiBoost = savefile[Resources.ReplicantiBoost.order].have;\r\n      const replicantiPow = 0.6 + 0.35*(1-1/(replicantiBoost/30+1));\r\n      return 1.5**(replicantiBoost+1)*(replicanti+1)**replicantiPow/(replicanti+1);\r\n    },\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    automates: [\"Replicanti\"],\r\n    craftTime: 30,\r\n    position: [8, 8]\r\n  }),\r\n};\r\n\r\n\r\n\r\n/** @type {Resource[]} */\r\nexport const ResourceArr = new Array(81).fill(null);\r\nfor (const id in Resources) {\r\n  /** @type {Resource} */\r\n  const Resource = Resources[id];\r\n  const position = 9*Resource.position.y + Resource.position.x;\r\n  ResourceArr[position] = Resource;\r\n}\r\n\r\nexport const AutoConnected = Array.from({ length: 81 }, (_, i) => {\r\n  if (!ResourceArr[i]) return -1;\r\n  return ResourceArr.findIndex(e => e && e.automates ? e.automates.includes(ResourceArr[i].name) : false);\r\n});\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @returns {Resource}\r\n */\r\nexport function getResourceByName(name) {\r\n  return Resources[name];\r\n}\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function canBuy(name, savefile) {\r\n  const Resource = getResourceByName(name);\r\n  if (savefile.resources[Resource.order].startTime !== null) return;\r\n\r\n  const cost = Resource.cost(savefile.resources[Resource.order].have);\r\n  \r\n  let bulk = Infinity;\r\n  if (cost === null) return bulk;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _have = savefile.resources[getResourceByName(resourceName).order].have;\r\n    if (_cost > _have) return false;\r\n    bulk = Math.min(bulk, _have/_cost);\r\n  }\r\n  return Math.floor(bulk);\r\n}\r\n/**\r\n * @param {string} name \r\n * @param {boolean} doBulk\r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function buy(name, savefile, doBulk=false) {\r\n  const Resource = getResourceByName(name);\r\n\r\n  const cost = Resource.cost(savefile);\r\n  const bulk = doBulk ? canBuy(savefile) : 1;\r\n  \r\n  if (!bulk) return false;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = bulk * cost[resourceName];\r\n    const _order = getResourceByName(resourceName).order;\r\n    savefile.resources[_order].have -= _cost;\r\n  }\r\n\r\n  savefile.resources[Resource.order].startTime = new Date().getTime();\r\n\r\n  return bulk;\r\n}\r\nexport function getCooldown(name, savefile) {\r\n  const Resource = Resources[name];\r\n  const order = Resource.order;\r\n\r\n  let craftTime = Resource.craftTime*1000;\r\n  if (AutoConnected[order] !== -1) {\r\n    craftTime /= Math.max(1, savefile.resources[AutoConnected[order]].have);\r\n    craftTime /= ResourceArr[AutoConnected[order]].effectMultiply(savefile.resources);\r\n  }\r\n  craftTime /= Resources.FastForward.effectMultiply(savefile.resources);\r\n  craftTime /= 1 + savefile.resources[order].empower/2;\r\n\r\n  return craftTime;\r\n}\r\nexport function isUnlocked(name, savefile) {\r\n  const Resource = Resources[name];\r\n\r\n  if (!Resource || !Resource.unlockAt) return false;\r\n  for (const name in Resource.unlockAt) {\r\n    if (savefile[Resources[name].order].have < Resource.unlockAt[name]) return false;\r\n  }\r\n  return true;\r\n}\r\n","// import produce from 'immer';\r\nimport { savefile } from '../saveload';\r\nimport { Resources, ResourceArr } from '../data/resources';\r\n\r\nconst CRAFT_START = 'resource/CRAFT_START';\r\nconst CRAFT_UPDATE = 'resource/CRAFT_UPDATE';\r\nconst RESOURCE_UNLOCK = 'resource/RESOURCE_UNLOCK';\r\nconst TOGGLE_AUTO = 'resource/TOGGLE_AUTO';\r\nconst RESOURCE_EMPOWER = 'resource/EMPOWER';\r\nconst RESET_RESOURCE_DATA = 'resource/RESET_RESOURCE_DATA';\r\n\r\nexport const craftStart = (order, isAuto) => ({\r\n  type: CRAFT_START,\r\n  order,\r\n  isAuto\r\n});\r\nexport const craftUpdate = ({\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement,\r\n  dontUpdate\r\n}) => ({\r\n  type: CRAFT_UPDATE,\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement,\r\n  dontUpdate\r\n});\r\nexport const resourceUnlock = order => ({\r\n  type: RESOURCE_UNLOCK,\r\n  order\r\n});\r\nexport const toggleAuto = order => ({\r\n  type: TOGGLE_AUTO,\r\n  order\r\n});\r\nexport const resourceEmpower = order => ({\r\n  type: RESOURCE_EMPOWER,\r\n  order\r\n});\r\nexport const resetResourceData = order => ({\r\n  type: RESET_RESOURCE_DATA,\r\n  order\r\n});\r\n\r\nfunction buyResource(state, cost, bulkMax=0) {\r\n  let bulk = bulkMax;\r\n\r\n  // Check can buy & Bulk count\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    bulk = Math.min(bulk, state[_order].have/_cost);\r\n  }\r\n  bulk = Math.floor(bulk);\r\n  if (bulk <= 0) return false;\r\n\r\n  // Subtract resource\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    state[_order] = {\r\n      ...state[_order],\r\n      have: state[_order].have - _cost*bulk\r\n    };\r\n  }\r\n  return bulk;\r\n}\r\n\r\nfunction reducer(state = savefile.resources, action) {\r\n  const Resource = ResourceArr[action.order];\r\n  if (!Resource) return state;\r\n  const order = action.order;\r\n  const have = state[order].have;\r\n  const isAuto = !state[order].automationDisabled && action.isAuto;\r\n  const cost = Resource.cost(have, isAuto);\r\n\r\n  switch (action.type) {\r\n    case CRAFT_START:\r\n      state = [...state];\r\n      if (state[order].lastTime !== null) return state;\r\n      const canBuy = buyResource(state, cost, 1);\r\n      if (!canBuy) {\r\n        // If crafting progress is greater then 0, set it to 0\r\n        if (state[order].progress !== 0) {\r\n          state[order] = {\r\n            ...state[order],\r\n            progress: 0\r\n          }\r\n        }\r\n        return state;\r\n      }\r\n\r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: new Date().getTime(),\r\n        progress: 0,\r\n      };\r\n      \r\n      return state;\r\n    case CRAFT_UPDATE:\r\n      if (action.dontUpdate) return state;\r\n      state = [...state];\r\n      \r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: action.Time,\r\n        progress: state[order].progress + action.progressIncrement,\r\n      };\r\n\r\n      if (state[order].progress >= 1) {\r\n        state[order].lastTime = null;\r\n        let bulk = 1;\r\n        if (isAuto) {\r\n          bulk += buyResource(state, cost, Math.floor(state[order].progress)-1);\r\n          state[order].have += bulk*Resource.craftMultiply;\r\n          state[order].progress %= 1;\r\n        } else {\r\n          state[order].have += Resource.craftMultiply;\r\n          state[order].progress = 0;\r\n        }\r\n\r\n        const EffectMultiply = Resource.effectMultiply(state);\r\n        // randomGrantOnCraft\r\n        for (let i = 0; i < Resource.randomGrantOnCraft.length; i++) {\r\n          const [chance, toGrant] = Resource.randomGrantOnCraft[i];\r\n          const realChance = chance*EffectMultiply;\r\n          const grantChance = 1-((1-Math.min(1, realChance))**bulk);\r\n          const grantCount = bulk*grantChance > 5 || grantChance >= 0.99 ? Math.round(bulk*realChance) : +(Math.random() < grantChance);\r\n          if (grantCount >= 1) {\r\n            state[Resources[toGrant].order] = {\r\n              ...state[Resources[toGrant].order],\r\n              have: state[Resources[toGrant].order].have + grantCount\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return state;\r\n    case RESOURCE_UNLOCK:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        unlocked: true\r\n      };\r\n      return state;\r\n    case TOGGLE_AUTO:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        automationDisabled: !state[order].automationDisabled\r\n      };\r\n      return state;\r\n    case RESOURCE_EMPOWER:\r\n      if (!Resource.canEmpower || state[order].empower >= 5) return state;\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        empower: state[order].empower+1\r\n      }\r\n      return state;\r\n    case RESET_RESOURCE_DATA:\r\n      state = [...state];\r\n      if (!Resource.keepOnPrestige) {\r\n        state[order] = {\r\n          ...state[order],\r\n          have: Resource.defaultQuantity,\r\n          lastTime: null,\r\n          progress: 0,\r\n          empower: 0,\r\n          unlocked: false\r\n        };\r\n      }\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","let notation1 = [\"\", \"K\", \"M\", \"B\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nlet notation2 = [\"\", \"U\", \"D\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nlet notation3 = [\"\", \"D\", \"V\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nexport default function notation(x) {\r\n  let OOM = Math.floor(Math.log10(Math.max(1, Math.abs(x))));\r\n  let suffixLevel = Math.floor(OOM/3);\r\n  let suffixPart = (suffixLevel < 10 ? notation1[suffixLevel] : notation2[suffixLevel%10]) + notation3[Math.floor(suffixLevel/10)];\r\n  let numberPart = (x/10**(suffixLevel*3)).toFixed(Math.max(0, 3-suffixPart.length-OOM%3));\r\n  if (x < 1000 && Number.isInteger(x)) numberPart = x;\r\n  return numberPart + suffixPart;\r\n}\r\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\nimport resourceImage from \"../../resources/Resources.png\";\r\n\r\nconst Image = styled.div`\r\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\r\n  --imageScale: calc(81 / 8);\r\n  \r\n  display: inline-block;\r\n\r\n  width: var(--imageSize);\r\n  height: var(--imageSize);\r\n\r\n  background-image: url(${resourceImage});\r\n  background-repeat: no-repeat;\r\n  background-size: calc(100% * var(--imageScale));\r\n  image-rendering: pixelated;\r\n  image-rendering: crisp-edges;\r\n`;\r\n\r\nfunction ResourceImage({ size, position, style, content }) {\r\n  return (\r\n    <Image\r\n      style={{\r\n        \"--imageSize\": size,\r\n        backgroundPosition: `calc(var(--resourceGap) * -${position.x}) calc(var(--resourceGap) * -${position.y})`,\r\n        ...style\r\n      }}\r\n    >{content}</Image>\r\n  )\r\n}\r\n\r\nexport default ResourceImage;","import styled from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { Resources } from '../../data/resources';\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst RescouceCostTable = styled.div`\r\n  --costCellWidth: calc(var(--cellWidth) / 2);\r\n  --costCellHeight: calc(var(--cellHeight) / 3);\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(calc(var(--cellWidth) / 2), 1fr));\r\n  grid-auto-rows: var(--costCellHeight);\r\n  grid-auto-columns: var(--costCellWidth);\r\n  place-items: center;\r\n`;\r\n\r\nfunction ResourceCost({ cost }) {\r\n  return (\r\n    <RescouceCostTable>\r\n      {\r\n        cost.map(([costResourceName, costQuantity], index) => {\r\n          const Resource = Resources[costResourceName];\r\n\r\n          return (\r\n            <div key={index}>\r\n              <ResourceImage\r\n                size=\"min(var(--costCellWidth), var(--costCellHeight))\"\r\n                position={Resource.position}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"flex-end\",\r\n                \r\n                  color: \"var(--colReverse)\",\r\n                  fontSize: \"0.8em\",\r\n                  fontWeight: 900,\r\n                  textShadow:\r\n                    `calc(var(--imageSize) / 30) calc(var(--imageSize) / 30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / -30) calc(var(--imageSize) / -30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / 30) calc(var(--imageSize) / -30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / -30) calc(var(--imageSize) / 30) 0 var(--colMain1)`,\r\n                  textAlign: \"right\",\r\n                \r\n                  border: \"calc(var(--imageSize) / 15) solid var(--colMain2)\",\r\n                  borderRadius: \"calc(min(var(--costCellWidth), var(--costCellHeight)) / 2)\",\r\n                  filter: \"drop-shadow(var(--baseShadowSmall))\"\r\n                }}\r\n                content={notation(costQuantity)}\r\n              />\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </RescouceCostTable>\r\n  )\r\n}\r\n\r\nexport default ResourceCost;","import styled, { keyframes } from 'styled-components';\r\nimport { Resources } from \"../../data/resources.js\";\r\nimport ResourceImage from \"./ResourceImage.js\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCogs } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst appearAnimation = keyframes`\r\n  from {\r\n    transform: scale(0, 1);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: scale(1, 1);\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst Warpper = styled.div`\r\n  --height: calc(var(--cellHeight) / 10 * 1.75);\r\n\r\n  padding: calc(var(--height) * 0.15) 0;\r\n\r\n  position: absolute;\r\n  bottom: calc(var(--height) * -1.4);\r\n  \r\n  min-width: 80%;\r\n  height: var(--height);\r\n\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n\r\n  background: var(--colMain4);\r\n  border-radius: calc(var(--height));\r\n  box-shadow: var(--baseShadow);\r\n  transform: scale(0, 1);\r\n\r\n  pointer-events: none;\r\n  animation: ${appearAnimation} 0.15s ease-out forwards;\r\n  z-index: 1;\r\n`;\r\n\r\nfunction ResourceAutomate({ Resource, save }) {\r\n  return (\r\n    <>\r\n      {(Resource.automates && Resource.automates.length > 0) &&\r\n        <Warpper>\r\n          <FontAwesomeIcon\r\n            icon={faCogs}\r\n            style={{\r\n              position: \"absolute\",\r\n              color: \"var(--colReverseWeak)\",\r\n\r\n              left: 0,\r\n              bottom: 0,\r\n              transform: \"translate(-50%, 50%)\",\r\n\r\n              filter: \"drop-shadow(var(--baseShadow))\",\r\n\r\n              zIndex: 1,\r\n            }}\r\n          />\r\n          {\r\n            Resource.automates.map(_ResourceName => {\r\n              const _Resource = Resources[_ResourceName];\r\n              return (\r\n                <ResourceImage\r\n                  key={_Resource.name}\r\n                  size=\"var(--height)\"\r\n                  position={_Resource.position}\r\n                  style={{filter: \"drop-shadow(var(--baseShadowSmall))\"}}\r\n                />\r\n              );\r\n            })\r\n          }\r\n        </Warpper>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResourceAutomate;\r\n","import { connect } from \"react-redux\";\r\nimport styled from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { Resources } from \"../../data/resources.js\";\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst ResourceRandomTable = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  transform: translateX(100%);\r\n\r\n  min-width: 60%;\r\n  height: var(--boxSize);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) calc(var(--boxSize) / 10) 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  pointer-events: none;\r\n`;\r\nconst EffectDisplay = styled.div`\r\n  flex: 1;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) 0 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  &::before {\r\n    font-size: 0.8em;\r\n    content: \"Eff x\";\r\n  }\r\n`;\r\nconst ChanceTable = styled.div`\r\n  flex: 5;\r\n`;\r\nconst ChanceItem = styled.div`\r\n  --itemHeight: calc(var(--boxSize) / 6);\r\n\r\n  height: var(--itemHeight);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n`;\r\n\r\n\r\nfunction ResourceRandom({ Resource, save }) {\r\n  const EffectMultiply = Resource ? Resource.effectMultiply(save) : 1;\r\n  const RandomTable = Resource.randomGrantOnCraft.map(e => [Math.min(1, e[0]*EffectMultiply), e[1]]);\r\n\r\n  return (RandomTable.length !== 0 || EffectMultiply !== 1 ?\r\n    <ResourceRandomTable>\r\n      <EffectDisplay>{notation(EffectMultiply)}</EffectDisplay>\r\n      <ChanceTable>\r\n        {RandomTable.map(([chance, resource]) => {\r\n          const Resource = Resources[resource];\r\n          return (\r\n            <ChanceItem\r\n              key={Resource.name}\r\n            >\r\n              {save[Resource.order].unlocked ? <ResourceImage\r\n                size=\"var(--itemHeight)\"\r\n                position={Resource.position}\r\n              /> : <span>?&nbsp;</span>}\r\n              <span>{(chance*100).toFixed(2).padStart(6, \"0\")}%</span>\r\n            </ChanceItem>\r\n          );\r\n        })}\r\n      </ChanceTable>\r\n    </ResourceRandomTable>\r\n  : <></>);\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    save: state.resources\r\n  }),\r\n  {}\r\n)(ResourceRandom);\r\n","import { connect } from 'react-redux';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { getCooldown } from '../../data/resources.js';\r\nimport notation from '../../util/notation';\r\n\r\nconst appearAnimation = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst ProductionDisplay = styled.div`\r\n  position: absolute;\r\n  bottom: 18%;\r\n  left: 47%;\r\n  transform: translateX(-100%);\r\n\r\n  padding: 2%;\r\n\r\n  color: var(--colReverse);\r\n  font-size: 0.7em;\r\n  font-weight: bold;\r\n\r\n  background-color: var(--colOverlayReverse);\r\n  border-radius: 25%;\r\n\r\n  animation: ${appearAnimation} 0.2s ease-out forwards;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n`;\r\n\r\nfunction ResourcProduction({ Resource, autoConnected, save }) {\r\n  const cooldown = getCooldown(Resource.name, save) || 0;\r\n  const isAuto = autoConnected !== -1 ? save.resources[autoConnected].have >= 1 : false;\r\n\r\n  return ( cooldown !== 0 ?\r\n    (\r\n      <ProductionDisplay>\r\n        {isAuto ?\r\n          notation(Math.max(0, 1000/cooldown)) + \"/s\":\r\n          (cooldown/1000).toFixed(2) + \"s\"}\r\n      </ProductionDisplay>\r\n    )\r\n  : <></>)\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    save: state\r\n  }),\r\n)(ResourcProduction);\r\n","import { useState } from 'react';\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport { craftStart, toggleAuto, resourceEmpower } from \"../../modules/resources.js\";\r\nimport styled, { keyframes } from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { AutoConnected } from \"../../data/resources.js\";\r\n// eslint-disable-next-line\r\nimport Resource from '../../class/Resource';\r\nimport ResourceImage from \"./ResourceImage\";\r\nimport ResourceCost from \"./ResourceCost.js\";\r\nimport ResourceAutomate from './ResourceAutomates.js';\r\nimport ResourceRandomTable from \"./ResourceRandom.js\";\r\nimport ResoruceProduction from './ResourceProduction.js';\r\n\r\nconst namespaceAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(100%) scale(0.2, 1);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1, 1);\r\n  }\r\n`;\r\nconst ResourceWarp = styled.div`\r\n  --margin: calc(var(--cellSize) / 10);\r\n  --boxRatio: 1.3;\r\n  --boxSize: calc(var(--cellSize) - var(--margin));\r\n  --cellWidth: calc(var(--boxSize) / var(--boxRatio));\r\n  --cellHeight: var(--boxSize);\r\n  --borderRadius: calc(var(--boxSize) / 15);\r\n\r\n  margin: calc(var(--margin) / 2);\r\n\r\n  width: var(--cellWidth);\r\n  height: var(--cellHeight);\r\n  \r\n  background-color: var(--colMain3);\r\n  border-radius: var(--borderRadius);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  transform: scale(1);\r\n  cursor: pointer;\r\n\r\n  transition: all 0.3s cubic-bezier(0,.79,.32,1);\r\n\r\n  &:hover {\r\n    width: calc(var(--boxSize) / var(--boxRatio) * 2);\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.4);\r\n    z-index: 1;\r\n  }\r\n\r\n  &:hover::before {\r\n    content: attr(name);\r\n\r\n    padding: 1% 5%;\r\n    \r\n    min-width: 60%;\r\n    height: 15%;\r\n\r\n    position: absolute;\r\n    top: -15%;\r\n    left: 5%;\r\n\r\n    color: var(--colMainReverse);\r\n    word-spacing: -0.3em;\r\n    font-size: 0.9em;\r\n    text-align: center;\r\n\r\n    background-color: var(--colMain4);\r\n    border-radius: calc(var(--cellSize) / 30);\r\n\r\n    animation: ${namespaceAppear} 0.4s cubic-bezier(.12,.81,.31,.95);\r\n    \r\n    pointer-events: none;\r\n  }\r\n`;\r\nconst ResourceInfo = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  \r\n  & > span {\r\n    display: inline-block;\r\n\r\n    width: calc(var(--boxSize) / var(--boxRatio));\r\n    height: calc(var(--boxSize));\r\n  }\r\n`;\r\nconst ResourceProgress = styled.span`\r\n  position: absolute;\r\n  bottom: 0;\r\n\r\n  width: 100%;\r\n  height: 0%;\r\n  max-height: 100%;\r\n\r\n  background-color: var(--colOverlay);\r\n  border-radius: var(--borderRadius);\r\n\r\n  z-index: -1;\r\n`;\r\nconst ResourceQuantity = styled.div`\r\n  padding-right: calc(var(--boxSize) / 20);\r\n\r\n  text-align: right;\r\n  font-weight: bolder;\r\n  color: var(--colReverse);\r\n`;\r\n\r\n/**\r\n * @param {object} obj\r\n * @param {Resource} obj.data \r\n */\r\nfunction ResourceGridItem({ Resource, index, craftStart, selectMode, toggleAuto, resourceEmpower, empowerLeft }) {\r\n  const [isHover, setHover] = useState(false);\r\n\r\n  const displayName = Resource ? Resource.name.replace(/(.)([A-Z])/g, `$1 $2`) : \"\";\r\n  const save = useSelector(state => state.resources[index]);\r\n  const cost = Resource ? Object.entries(Resource.cost(save.have) ?? {}) : [];\r\n  const autoConnected = AutoConnected[index];\r\n\r\n  const displayResource =\r\n    save.unlocked &&\r\n    (selectMode !== \"AutoToggle\" || autoConnected !== -1) &&\r\n    (selectMode !== \"Empower\" || (index !== 75 && Resource.canEmpower));\r\n\r\n  return (\r\n    <ResourceWarp\r\n      onClick={() => {\r\n        switch (selectMode) {\r\n          case \"AutoToggle\":\r\n            toggleAuto(index);\r\n            break;\r\n          case \"Empower\":\r\n            if (empowerLeft > 0) resourceEmpower(index);\r\n            break;\r\n          default:\r\n            if (Resource && Object.keys(Resource.cost(save.have) ?? {}).length !== 0) {\r\n              craftStart(index);\r\n            }\r\n        }\r\n      }}\r\n      onMouseEnter={() => setHover(true)}\r\n      onMouseLeave={() => setHover(false)}\r\n      name={displayName}\r\n      style={{\r\n        backgroundColor: (save.unlocked && (save.automationDisabled || (selectMode === \"AutoToggle\" && displayResource))) ?\r\n          (!save.automationDisabled ? \"#1c5412\" : \"#541212\" ) :\r\n          undefined, // TODO: make this better\r\n        opacity: displayResource ? undefined : 0.3,\r\n        pointerEvents: displayResource ? undefined: \"none\"\r\n      }}\r\n    >\r\n      {\r\n        (displayResource && Resource) &&\r\n        <ResourceInfo>\r\n          <span>\r\n            <ResourceImage\r\n              size=\"calc(var(--boxSize) / var(--boxRatio) - var(--margin))\"\r\n              position={Resource.position}\r\n              style={{filter: \"drop-shadow(var(--baseShadow))\", margin: \"calc(var(--margin) / 2)\"}}\r\n            />\r\n            <ResourceQuantity>\r\n              {notation(save.have)}\r\n            </ResourceQuantity>\r\n            <ResourceProgress style={{height: `${save.progress * 100}%`}}/>\r\n          </span>\r\n          {\r\n            isHover &&\r\n            <>\r\n              <ResourceCost cost={cost}/>\r\n              <ResourceRandomTable Resource={Resource}/>\r\n              <ResourceAutomate Resource={Resource}/>\r\n              <ResoruceProduction Resource={Resource} autoConnected={autoConnected}/>\r\n            </>\r\n          }\r\n          {\r\n            (Resource.canEmpower && (selectMode === \"Empower\" || save.empower >= 1)) &&\r\n            <ResourceImage\r\n              size=\"calc(var(--boxSize) / 2.6)\"\r\n              position={{x: 2, y: 8}}\r\n              content={selectMode === \"Empower\" ? `x${(1+save.empower/2).toFixed(1)}` : save.empower}\r\n              style={{\r\n                position: \"absolute\",\r\n                transform: \"translate(-50%, -50%)\" + (selectMode === \"Empower\" ? \" scale(1.2)\" : \"\"),\r\n                filter: `drop-shadow(var(--baseShadowSmall)) hue-rotate(-${Math.max(0, save.empower-1)*50}deg)`,\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                textShadow: \"var(--baseShadowSmall)\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            />\r\n          }\r\n        </ResourceInfo>\r\n      }\r\n    </ResourceWarp>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    craftStart,\r\n    toggleAuto,\r\n    resourceEmpower\r\n  }\r\n)(ResourceGridItem);\r\n","import { useState, useCallback } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from \"styled-components\";\r\nimport Rescource from \"./Resource.js\";\r\nimport { ResourceArr } from \"../../data/resources.js\";\r\n\r\nconst ResourceWarpper = styled.div`\r\n  --cellSize: calc(var(--h) / 9);\r\n\r\n  flex: var(--resourceGridFlexGrow);\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(9, minmax(var(--cellSize), 1fr));\r\n  grid-auto-rows: var(--cellSize);\r\n  grid-auto-columns: var(--cellSize);\r\n  place-items: center;\r\n`;\r\nconst SelectModeButtons = styled.div`\r\n  position: absolute;\r\n  left: calc(var(--h) / 50);\r\n  bottom: calc(var(--w) / 100);\r\n\r\n  z-index: 1;\r\n`;\r\nconst SelectModeButton = styled.div`\r\n  padding: calc(var(--h) / 100) calc(var(--w) / 200);\r\n  margin: 0 calc(var(--w) / 200);\r\n\r\n  display: inline-block;\r\n  \r\n  font-weight: bold;\r\n  color: var(--colReverseWeak);\r\n\r\n  box-shadow: var(--baseShadow);\r\n  background-color: var(--colMain3);\r\n\r\n  cursor: pointer;\r\n\r\n  transition: all 0.5s cubic-bezier(.12,.74,.14,.99);\r\n\r\n  &:hover {\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nfunction ResourceGrid({ craftStart }) {\r\n  const [selectMode, setSelectMode] = useState(null);\r\n  const resourceSave = useSelector(state => state.resources);\r\n  const EmpowerLeft = resourceSave[74].have - resourceSave.reduce((a, b) => a+b.empower, 0);\r\n\r\n  return (\r\n    <>\r\n      <SelectModeButtons>\r\n        <SelectModeButton\r\n          onClick={useCallback(() => {\r\n            if (selectMode !== \"AutoToggle\") {\r\n              setSelectMode(\"AutoToggle\");\r\n            } else {\r\n              setSelectMode(null);\r\n            }\r\n          }, [selectMode])}\r\n          style={selectMode === \"AutoToggle\" ? {\r\n            backgroundColor: \"var(--colAlt1)\",\r\n            color: \"var(--colMain1)\",\r\n          } : {}}\r\n        >\r\n          Toggle Auto\r\n        </SelectModeButton>\r\n        {resourceSave[74].unlocked && (<SelectModeButton\r\n          onClick={() => {\r\n            if (selectMode !== \"Empower\") {\r\n              setSelectMode(\"Empower\");\r\n            } else {\r\n              setSelectMode(null);\r\n            }}\r\n          }\r\n          style={selectMode === \"Empower\" ? {\r\n            backgroundColor: \"var(--colAlt1)\",\r\n            color: \"var(--colMain1)\",\r\n          } : {}}\r\n        >\r\n          Empower ({EmpowerLeft})\r\n        </SelectModeButton>)}\r\n      </SelectModeButtons>\r\n      <ResourceWarpper>\r\n          {ResourceArr.map((Resource, index) => (\r\n            <Rescource\r\n              key={Resource !== null ? Resource.name : `empty_${index}`}\r\n              Resource={Resource}\r\n              selectMode={selectMode}\r\n              index={index}\r\n              craftStart={craftStart}\r\n              empowerLeft={EmpowerLeft}\r\n            />\r\n          ))}\r\n      </ResourceWarpper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceGrid;\r\n","import { savefile } from '../saveload';\r\n\r\nconst DO_PRESTIGE = 'prestige/DO_PRESTIGE';\r\nconst END_PRESTIGE = 'prestige/END_PRESTIGE';\r\n\r\nexport const doPrestige = (prestigeResourceQuantity) => ({\r\n  type: DO_PRESTIGE,\r\n  prestigeResourceQuantity\r\n});\r\nexport const endPrestige = () => ({\r\n  type: END_PRESTIGE\r\n});\r\n\r\nfunction reducer(state = savefile.prestige, action) {\r\n  switch (action.type) {\r\n    case DO_PRESTIGE:\r\n      savefile.prestige.doingPrestige = true;\r\n      savefile.prestige.lastPrestigeResourceQuantity = action.prestigeResourceQuantity;\r\n      savefile.prestige.totalPrestigeResourceQuantity += action.prestigeResourceQuantity;\r\n      return state;\r\n    case END_PRESTIGE:\r\n      savefile.prestige.doingPrestige = false;\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { useSelector, connect } from 'react-redux';\r\nimport { doPrestige } from '../../modules/prestige.js';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport ResourceImage from \"../ResourceGrid/ResourceImage.js\";\r\n\r\nconst Title = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst ExchangeDispaly = styled.div`\r\n  padding: 0.5% 0;\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 0.8em;\r\n\r\n  background-color: var(--colOverlay);\r\n`;\r\nconst ResourceQuantity = styled.span`\r\n  margin-right: 1%;\r\n`;\r\nconst PrestigeButtonContainer = styled.div`\r\n  flex: 2;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst PrestigeButton = styled.span`\r\n  padding: 10% 10%;\r\n\r\n  font-size: 0.7em;\r\n\r\n  background-color: var(--colMain3);\r\n  border-radius: calc(var(--asideWidth) / 70);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  cursor: pointer;\r\n  transition:\r\n    color 0.15s cubic-bezier(.06,.71,.44,1),\r\n    background-color 0.15s cubic-bezier(.06,.71,.44,1),\r\n    transform 0.15s cubic-bezier(.06,.71,.44,1);\r\n\r\n  &:hover {\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.2);\r\n  }\r\n  &:active {\r\n    color: var(--colMain1);\r\n    background-color: var(--colAlt1);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nfunction Prestige({ isUnlocked, style, doPrestige }) {\r\n  const PowderHave = useSelector(state => state.resources[72].have);\r\n  const ShardHave = useSelector(state => state.resources[73].have);\r\n  const canPrestige = PowderHave >= 50;\r\n\r\n  return (\r\n    <div style={{\r\n      ...style,\r\n      \"--_imageSize\": \"calc(var(--w) / 40)\"\r\n    }}>\r\n      { isUnlocked ?\r\n        (\r\n          <>\r\n            <Title>Prestige</Title>\r\n            <ExchangeDispaly>\r\n              <ResourceQuantity>\r\n                {PowderHave}\r\n              </ResourceQuantity>\r\n              <ResourceImage\r\n                size=\"var(--_imageSize)\"\r\n                position={{x: 0, y: 8}}\r\n                style={{\r\n                  filter: \"drop-shadow(var(--baseShadow))\"\r\n                }}\r\n              />\r\n              <FontAwesomeIcon\r\n                icon={faArrowRight}\r\n                style={{\r\n                  margin: \"0 2%\",\r\n                  color: \"var(--colReverseWeak)\"\r\n                }}\r\n              />\r\n              <ResourceQuantity>\r\n                {`${ShardHave}(+${PowderHave})`}\r\n              </ResourceQuantity>\r\n              <ResourceImage\r\n                size=\"var(--_imageSize)\"\r\n                position={{x: 1, y: 8}}\r\n                style={{\r\n                  filter: \"drop-shadow(var(--baseShadow))\"\r\n                }}\r\n              />\r\n            </ExchangeDispaly>\r\n            <PrestigeButtonContainer>\r\n              <PrestigeButton\r\n                style={!canPrestige ? {opacity: 0.2, pointerEvents: 'none'} : undefined}\r\n                onClick={() => canPrestige && window.confirm(\"Do you really want to Prestige?\") && doPrestige(PowderHave)}\r\n              >\r\n                {canPrestige ?\r\n                  \"Prestige!\" :\r\n                  <>\r\n                    <span>{`Collect ${50-PowderHave}`}</span>\r\n                    <ResourceImage\r\n                      size=\"calc(var(--_imageSize) / 2)\"\r\n                      position={{x: 0, y: 8}}\r\n                      style={{\r\n                        filter: \"drop-shadow(var(--baseShadow))\",\r\n                        margin: \"0 5%\"\r\n                      }}\r\n                    />\r\n                  </>\r\n                }\r\n              </PrestigeButton>\r\n            </PrestigeButtonContainer>\r\n          </>\r\n        ) : \r\n        (\r\n          \"Locked\"\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    doPrestige\r\n  }\r\n)(Prestige);\r\n","// import styled from 'styled-components';\r\n\r\nfunction NewGame({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewGame;\r\n","// import styled from 'styled-components';\r\n\r\nfunction Booster({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Booster;\r\n","// import styled from 'styled-components';\r\n\r\nfunction Stats({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      Stats coming soon!\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stats;\r\n","import { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Prestige from './Prestige.js';\r\nimport NewGame from './NewGame.js';\r\nimport Booster from './Booster.js';\r\nimport Stats from './Stats.js';\r\n\r\nconst Container = styled.div`\r\n  --asideWidth: calc(var(--w) / var(--totalFlexGrow) * 7 * 0.97);\r\n\r\n  flex: var(--asideFlexGrow);\r\n\r\n  margin-left: 1.5%;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n\r\n  color: var(--colReverseWeak);\r\n  font-weight: bold;\r\n  font-size: 2em;\r\n\r\n  /* &::after {\r\n    position: absolute;\r\n\r\n    width: var(--asideWidth);\r\n    height: 3px;\r\n\r\n    background: linear-gradient(90deg, #f00 3%, #fff 1%);\r\n\r\n    content: \"Aside Width\";\r\n    opacity: 0.1;\r\n  } */\r\n\r\n  & > div {\r\n    margin: 1%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n\r\n    width: 100%;\r\n    background-color: var(--colMain2);\r\n    border-radius: calc(var(--asideWidth) / 60);\r\n    box-shadow: var(--baseShadow);\r\n  }\r\n\r\n  & > div:nth-child(1) {\r\n    flex: 2;\r\n  }\r\n  & > div:nth-child(2) {\r\n    flex: 1;\r\n  }\r\n  & > div:nth-child(3) {\r\n    flex: 3;\r\n  }\r\n  & > div:nth-child(4) {\r\n    flex: 5;\r\n  }\r\n`;\r\n\r\nfunction Aside() {\r\n  const unlockStatus = useSelector(state => state.aside.unlockStatus);\r\n  const lockedStyle = {\r\n    opacity: 0.4,\r\n    pointerEvents: 'none'\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Prestige\r\n        isUnlocked={unlockStatus.Prestige}\r\n        style={!unlockStatus.Prestige ? lockedStyle : {}}\r\n      />\r\n      <NewGame\r\n        isUnlocked={unlockStatus.NewGame}\r\n        style={!unlockStatus.NewGame ? lockedStyle : {}}\r\n      />\r\n      <Booster\r\n        isUnlocked={unlockStatus.Booster}\r\n        style={!unlockStatus.Booster ? lockedStyle : {}}\r\n      />\r\n      <Stats\r\n        style={lockedStyle}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Aside;\r\n","import \"./font/font.css\";\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport ResourceGrid from \"./components/ResourceGrid/ResourceGrid.js\"; \r\nimport Aside from \"./components/Aside/Aside.js\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  \r\n    white-space: nowrap;\r\n    \r\n    user-select: none;\r\n  }\r\n  \r\n  body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    overflow: hidden;\r\n\r\n    color: var(--colReverse);\r\n\r\n    background-color: var(--colMain1);\r\n  }\r\n  body#theme-dark, body:not(#theme-light){\r\n    --colStrong: #000000;\r\n    --colMain1: #191919;\r\n    --colMain2: #2a2a2a;\r\n    --colMain3: #3a3a3a;\r\n    --colMain4: #4a4a4a;\r\n    --colReverse: #ffffff;\r\n    --colReverseWeak: #efefef;\r\n    --colReverseWeaker: #cdcdcd;\r\n    --colAlt1: #13d1f2;\r\n    --colOverlay: #fff3;\r\n    --colOverlayReverse: #0006;\r\n  }\r\n  body#theme-light {\r\n    --colStrong: #ffffff;\r\n    --colMain1: #ffffff;\r\n    --colMain2: #efefef;\r\n    --colMain3: #dedede;\r\n    --colMain4: #cdcdcd;\r\n    --colReverse: #191919;\r\n    --colReverseWeak: #2a2a2a;\r\n    --colReverseWeaker: #4a4a4a;\r\n    --colAlt1: #f29913;\r\n    --colOverlay: #0003;\r\n    --colOverlayReverse: #fff6;\r\n  }\r\n`;\r\nconst MainContainer = styled.div`\r\n  --resourceGridFlexGrow: 9;\r\n  --asideFlexGrow: 7;\r\n  --totalFlexGrow: calc(var(--resourceGridFlexGrow) + var(--asideFlexGrow));\r\n\r\n  --baseShadow: calc(var(--h) / 250) calc(var(--h) / 250) 0 var(--colStrong);\r\n  --baseShadowSmall: calc(var(--h) / 500) calc(var(--h) / 500) 0 var(--colStrong);\r\n\r\n  display: flex;\r\n\r\n  width: var(--w);\r\n  height: var(--h);\r\n\r\n  border-radius: calc(var(--h) / 50);\r\n\r\n  transition: \r\n    background-image 0.5s linear,\r\n    background-color 0.3s ease-out;\r\n\r\n  @media only screen and (orientation: portrait) {\r\n    --baseSize: 90vw;\r\n  }\r\n  @media only screen and (orientation: landscape) {\r\n    --baseSize: min(83vw, 160vh);\r\n  }\r\n  --w: var(--baseSize);\r\n  --h: calc(var(--baseSize) * 9 / 16);\r\n  font-size: calc(var(--h) / 70);\r\n  @media only screen and (min-width: 1700px) and (min-height: 1000px) {\r\n    --w: 1600px;\r\n    --h: 900px;\r\n    font-size: calc(var(--h) / 70);\r\n  }\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalStyle />\r\n      <MainContainer>\r\n        {\r\n          (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') &&\r\n          <span style={{\r\n            top: 0, left: 0,\r\n            position: 'absolute',\r\n            color: \"var(--colReverse)\",\r\n            fontSize: \"1.3em\",\r\n            pointerEvents: \"none\",\r\n            opacity: 0.6,\r\n            fontWeight: \"bold\"\r\n          }}>Dev Mode Activated (Speed x10)</span>\r\n        }\r\n        <ResourceGrid />\r\n        <Aside />\r\n      </MainContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { savefile } from '../saveload';\r\n\r\nconst UNLOCK_TAB = 'aside/UNLOCK_TAB';\r\n\r\nexport const unlockTab = (toUnlock) => ({\r\n  type: UNLOCK_TAB,\r\n  toUnlock\r\n})\r\n\r\nfunction reducer(state = savefile.aside, action) {\r\n  switch (action.type) {\r\n    case UNLOCK_TAB:\r\n      state.unlockStatus = {\r\n        ...state.unlockStatus,\r\n        [action.toUnlock]: true\r\n      }\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\r\nimport resources from './resources.js';\r\nimport aside from './aside.js';\r\nimport prestige from './prestige.js';\r\n\r\nconst rootReducer = combineReducers({\r\n  resources,\r\n  aside,\r\n  prestige\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore } from 'redux';\r\nimport rootReducer from './modules';\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import store from \"./store.js\";\r\n// eslint-disable-next-line\r\nimport { DefaultSave } from \"./saveload.js\";\r\nimport { save } from \"./saveload.js\";\r\nimport { Resources, ResourceArr, getCooldown, canBuy, AutoConnected, isUnlocked } from \"./data/resources.js\";\r\nimport { craftStart, craftUpdate, resourceUnlock, resetResourceData } from \"./modules/resources.js\";\r\nimport { unlockTab } from \"./modules/aside.js\";\r\nimport { endPrestige } from \"./modules/prestige.js\";\r\n\r\nconst devMode = !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\r\nlet lastSave = new Date().getTime();\r\n\r\nfunction Tick() {\r\n  /**\r\n   * @type {DefaultSave}\r\n   */\r\n  const savefile = store.getState();\r\n  const Time = new Date().getTime();\r\n\r\n  if (Time - lastSave > 5000) save(savefile);\r\n\r\n  // Resources\r\n  for (let i = 0; i < ResourceArr.length; i++) {\r\n    const Resource = ResourceArr[i];\r\n    if (Resource === null) continue;\r\n    const order = i;\r\n    const save = savefile.resources[order];\r\n    const isAuto = 1 <= savefile.resources[AutoConnected[order]]?.have;\r\n\r\n    // Check Unlocked\r\n    if (!save.unlocked && (save.have >= 1 || isUnlocked(Resource.name, savefile.resources))) {\r\n      store.dispatch(resourceUnlock(order));\r\n    }\r\n\r\n    // Start Automate\r\n    if (Resource.automates && save.have >= 1) {\r\n      for (let j = 0; j < Resource.automates.length; j++) {\r\n        const _Resource = Resources[Resource.automates[j]];\r\n        const _order = _Resource.order;\r\n        if (\r\n          savefile.resources[_order].lastTime !== null ||\r\n          canBuy(_Resource.name, savefile) === 0 ||\r\n          savefile.resources[_order].automationDisabled\r\n        ) continue;\r\n        store.dispatch(craftStart(_order, true));\r\n      }\r\n    }\r\n\r\n    // Check craft end\r\n    const lastTime = save.lastTime;\r\n    if (lastTime !== null) {\r\n      let craftTime = getCooldown(Resource.name, savefile);\r\n      let progressIncrement = (Time - lastTime)/craftTime * (devMode ? 10 : 1);\r\n      store.dispatch(craftUpdate({\r\n        order: i,\r\n        isAuto,\r\n        Time,\r\n        progressIncrement,\r\n        dontUpdate: savefile.prestige.doingPrestige\r\n      }));\r\n    }\r\n  }\r\n\r\n  // Aside\r\n  const unlockStatus = savefile.aside.unlockStatus;\r\n  if (\r\n    !unlockStatus.Prestige &&\r\n    savefile.resources[Resources.DivinePowder.order].have >= 1\r\n  ) {\r\n    store.dispatch(unlockTab('Prestige'));\r\n  }\r\n\r\n  // Prestige\r\n  if (savefile.prestige.doingPrestige) {\r\n    store.dispatch(craftUpdate({\r\n      order: Resources.DivineShard.order,\r\n      progressIncrement: savefile.prestige.lastPrestigeResourceQuantity,\r\n      isAuto: 1\r\n    }))\r\n    for (let i = 0; i < ResourceArr.length; i++) {\r\n      store.dispatch(resetResourceData(i));\r\n    }\r\n    store.dispatch(endPrestige());\r\n  }\r\n}\r\n\r\nexport default Tick;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport tick from \"./tick.js\";\r\nimport { savefile } from \"./saveload.js\";\r\nimport store from \"./store.js\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App/>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nsetInterval(() => tick(savefile), 1000/60);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}