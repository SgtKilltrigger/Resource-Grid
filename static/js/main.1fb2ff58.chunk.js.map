{"version":3,"sources":["saveload.js","class/Resource.js","data/resources.js","modules/resources.js","resources/Resources.png","components/ResourceCost.js","components/Rescouce.js","components/ResourceGrid.js","App.js","reportWebVitals.js","modules/index.js","store.js","tick.js","index.js"],"names":["saveKey","DefaultSave","resources","Array","from","length","_","have","lastTime","progress","unlocked","savefile","JSON","parse","localStorage","getItem","mergeObject","load","target","source","i","isArray","mergeArray","constructor","l","Resource","data","this","name","description","unlockAt","_cost","cost","craftTime","craftMultiply","_position","position","order","randomGrantOnCraft","_effectMultiply","effectMultiply","automates","x","y","resource","Math","ceil","Resources","TreeSeed","Tree","Log","Plank","Charcoal","Vine","Mushroom","Stone","Pickaxe","CopperOre","IronOre","GoldOre","EmeraldStone","AmethystStone","RubyStone","SapphireStone","Copper","Iron","Gold","Emerald","Amethyst","Ruby","Sapphire","Water","Lava","Steam","Axe","Saw","max","GemstomePickaxe","Pump","Volcano","MetalworkFactory","Forest","Underground","Ocean","City","EarthEssence","DivineShard","ReplicantiBoost","Replicanti","replicanti","replicantiBoost","replicantiPow","min","ResourceArr","fill","id","AutoConnected","findIndex","e","includes","getResourceByName","canBuy","startTime","bulk","Infinity","resourceName","_have","floor","getCooldown","isUnlocked","CRAFT_START","CRAFT_UPDATE","RESOURCE_UNLOCK","craftStart","type","craftUpdate","canBulk","progressIncrement","resourceUnlock","buyResource","state","bulkMax","_order","reducer","action","Date","getTime","EffectMultiply","chance","toGrant","realChance","grantChance","random","RescouceCostTable","styled","div","CostDisplay","resourceImage","ResourceCost","map","index","costResourceName","costQuantity","costResource","style","backgroundPosition","namespaceAppear","keyframes","ResourceWarp","ResourceInfo","ResourceProgress","span","ResourceImage","ResourceQuantity","connect","displayName","craftEnd","replace","g1","g2","save","useSelector","Object","entries","onClick","keys","height","opacity","pointerEvents","RescouceGrid","OtherContents","ResourceGrid","ResourceData","Rescouce","GlobalStyle","createGlobalStyle","MainContainer","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","lastSave","Tick","getState","Time","setItem","stringify","dispatch","j","_Resource","ReactDOM","render","StrictMode","document","getElementById","setInterval","tick"],"mappings":"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","file":"static/js/main.1fb2ff58.chunk.js","sourcesContent":["const saveKey = \"resource_grid\";\r\n\r\nexport const DefaultSave = {\r\n  resources: Array.from({ length: 81 }, _ => ({\r\n    have: 0,\r\n    lastTime: null,\r\n    progress: 0,\r\n    unlocked: false\r\n  }))\r\n};\r\nDefaultSave.resources[0].have = 1;\r\n\r\nexport function save(savefile) {\r\n  localStorage.setItem(saveKey, JSON.stringify(savefile));\r\n}\r\n\r\n/** @returns {DefaultSave} */\r\nexport function load() {\r\n  return JSON.parse(localStorage.getItem(saveKey)) ?? mergeObject({}, DefaultSave);\r\n}\r\nexport const savefile = load();\r\n\r\nfunction mergeObject(target, source) {\r\n  target = target ?? {};\r\n  for (const i in source) {\r\n    if (Array.isArray(source[i])) {\r\n      target[i] = target[i] ?? [];\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction mergeArray(target, source) {\r\n  for (let i = 0, l = source.length; i < l; i++) {\r\n    if (Array.isArray(source[i])) {\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","export default class Resource {\r\n  /**\r\n   * @typedef ResourceConstructor\r\n   * @property {string} name - Name of the resource\r\n   * @property {string} description - Description of the resource\r\n   * @property {Object.<stringe, number>} unlockAt - Check resource is unlocked\r\n   * @property {Object.<string, number> | function(number): RescourceEnum.<string, number> } [cost] - {[id]: quantity} | Cost of the resource\r\n   * @property {number} [craftTime] - Crafting/Generating time (in second)\r\n   * @property {number} [craftMultiply] - Craft multiply (default: 1)\r\n   * @property {[number, number]} position - Position on Rescource Grid\r\n   * @property {[number, string][]} [randomGrantOnCraft] - [chance, id] | Randomely grants resource on craft\r\n   * @property {function(object): number} [effectMultiply] - Multiply random chance and \r\n   * @property {string[]} [automates] - Automatically craft/generate resource\r\n   */\r\n  /** @param {ResourceConstructor} data */\r\n  constructor(data) {\r\n    this.name = data.name;\r\n    this.description = data.description;\r\n    this.unlockAt = data.unlockAt;\r\n    this._cost = data.cost;\r\n    this.craftTime = data.craftTime;\r\n    this.craftMultiply = data.craftMultiply || 1;\r\n    this._position = data.position;\r\n    this.order = 9*this._position[0] + this._position[1];\r\n    this.randomGrantOnCraft = data.randomGrantOnCraft ?? [];\r\n    this._effectMultiply = data.effectMultiply;\r\n    this.automates = data.automates;\r\n  }\r\n\r\n  get position() {\r\n    return {\r\n      x: this._position[1],\r\n      y: this._position[0]\r\n    }\r\n  }\r\n\r\n  effectMultiply(savefile) {\r\n    if (typeof this._effectMultiply === 'function') {\r\n      return this._effectMultiply(savefile);\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  cost(have) {\r\n    let cost;\r\n    if (typeof this._cost === 'undefined') {\r\n      return null;\r\n    } else if (typeof this._cost === 'function') {\r\n      cost = this._cost(have);\r\n    } else {\r\n      cost = this._cost;\r\n    }\r\n\r\n    for (const resource in cost) {\r\n      cost[resource] = Math.ceil(cost[resource]);\r\n      if (cost[resource] <= 0) delete cost[resource];\r\n    }\r\n    return cost;\r\n  }\r\n}\r\n\r\n","// eslint-disable-next-line\r\nimport { DefaultSave } from \"../saveload\";\r\nimport Resource from \"../class/Resource.js\"; \r\n\r\nexport const Resources = {\r\n  TreeSeed: new Resource({\r\n    name: \"TreeSeed\",\r\n    description: \"Generate tree\",\r\n    automates: [\"Tree\"],\r\n    unlockAt: {},\r\n    position: [0, 0]\r\n  }),\r\n  Tree: new Resource({\r\n    name: \"Tree\",\r\n    craftTime: 20,\r\n    unlockAt: {},\r\n    position: [0, 1]\r\n  }),\r\n  Log: new Resource({\r\n    name: \"Log\",\r\n    cost: {\r\n      \"Tree\": 1\r\n    },\r\n    craftTime: 20,\r\n    craftMultiply: 2,\r\n    randomGrantOnCraft: [\r\n      [0.0008, \"TreeSeed\", 0]\r\n    ],\r\n    unlockAt: {\r\n      \"Tree\": 1,\r\n    },\r\n    position: [0, 2]\r\n  }),\r\n  Plank: new Resource({\r\n    name: \"Plank\",\r\n    cost: {\r\n      \"Log\": 1\r\n    },\r\n    craftTime: 15,\r\n    craftMultiply: 3,\r\n    unlockAt: {\r\n      \"Log\": 1\r\n    },\r\n    position: [0, 3]\r\n  }),\r\n  Charcoal: new Resource({\r\n    name: \"Charcoal\",\r\n    cost: {\r\n      \"Plank\": 3\r\n    },\r\n    craftTime: 3,\r\n    craftMultiply: 4,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [0, 4]\r\n  }),\r\n  Vine: new Resource({\r\n    name: \"Vine\",\r\n    position: [0, 5]\r\n  }),\r\n  Mushroom: new Resource({\r\n    name: \"Mushroom\",\r\n    position: [0, 6]\r\n  }),\r\n\r\n  Stone: new Resource({\r\n    name: \"Stone\",\r\n    craftTime: 20,\r\n    randomGrantOnCraft: [\r\n      [0.05, \"CopperOre\"],\r\n      [0.02, \"IronOre\"],\r\n      [0.01, \"GoldOre\"],\r\n      [0.001, \"EmeraldStone\"],\r\n    ],\r\n    description: \"Chance to grant some ore on craft.\\nChance is based on Pickaxe\",\r\n    effectMultiply: (savefile) => savefile[Resources.Pickaxe.order].have**1.3,\r\n    unlockAt: {\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [2, 0]\r\n  }),\r\n  CopperOre: new Resource({\r\n    name: \"CopperOre\",\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [2, 1]\r\n  }),\r\n  IronOre: new Resource({\r\n    name: \"IronOre\",\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [2, 2]\r\n  }),\r\n  GoldOre: new Resource({\r\n    name: \"GoldOre\",\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [2, 3]\r\n  }),\r\n  EmeraldStone: new Resource({\r\n    name: \"EmeraldStone\",\r\n    position: [2, 5]\r\n  }),\r\n  AmethystStone: new Resource({\r\n    name: \"AmethystStone\",\r\n    position: [2, 6]\r\n  }),\r\n  RubyStone: new Resource({\r\n    name: \"RubyStone\",\r\n    position: [2, 7]\r\n  }),\r\n  SapphireStone: new Resource({\r\n    name: \"SapphireStone\",\r\n    position: [2, 8]\r\n  }),\r\n\r\n  Copper: new Resource({\r\n    name: \"Copper\",\r\n    cost: {\r\n      \"CopperOre\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [3, 1]\r\n  }),\r\n  Iron: new Resource({\r\n    name: \"Iron\",\r\n    cost: {\r\n      \"IronOre\": 1,\r\n      \"Charcoal\": 3\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [3, 2]\r\n  }),\r\n  Gold: new Resource({\r\n    name: \"Gold\",\r\n    cost: {\r\n      \"GoldOre\": 1,\r\n      \"Charcoal\": 2,\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [3, 3]\r\n  }),\r\n  Emerald: new Resource({\r\n    name: \"Emerald\",\r\n    cost: {\r\n      \"EmeraldStone\": 10,\r\n      \"Lava\": 1\r\n    },\r\n    craftTime: 100,\r\n    position: [3, 5]\r\n  }),\r\n  Amethyst: new Resource({\r\n    name: \"Amethyst\",\r\n    cost: {\r\n      \"AmethystStone\": 10,\r\n      \"Lava\": 2\r\n    },\r\n    craftTime: 150,\r\n    position: [3, 6]\r\n  }),\r\n  Ruby: new Resource({\r\n    name: \"Ruby\",\r\n    cost: {\r\n      \"RubyStone\": 10,\r\n      \"Lava\": 4\r\n    },\r\n    craftTime: 200,\r\n    position: [3, 7]\r\n  }),\r\n  Sapphire: new Resource({\r\n    name: \"Sapphire\",\r\n    cost: {\r\n      \"SapphireStone\": 10,\r\n      \"Lava\": 8\r\n    },\r\n    craftTime: 250,\r\n    position: [3, 8]\r\n  }),\r\n\r\n  Water: new Resource({\r\n    name: \"Water\",\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [5, 0]\r\n  }),\r\n  Lava: new Resource({\r\n    name: \"Lava\",\r\n    cost: {\r\n      \"Stone\": 100,\r\n      \"Charcoal\": 50\r\n    },\r\n    unlockAt: {\r\n      \"Stone\": 100,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 200,\r\n    position: [5, 1]\r\n  }),\r\n  Steam: new Resource({\r\n    name: \"Steam\",\r\n    cost: {\r\n      \"Water\": 100,\r\n      \"Lava\": 8\r\n    },\r\n    craftTime: 300,\r\n    craftMultiply: 100,\r\n    position: [5, 2]\r\n  }),\r\n\r\n  Axe: new Resource({\r\n    name: \"Axe\",\r\n    description: \"Cuts tree\",\r\n    cost: (have) => ({\r\n      \"Plank\": 3 * (have+1)**2\r\n    }),\r\n    craftTime: 5,\r\n    automates: [\"Log\"],\r\n    unlockAt: {\r\n      \"Plank\": 1,\r\n    },\r\n    position: [6, 0]\r\n  }),\r\n  Saw: new Resource({\r\n    name: \"Saw\",\r\n    description: \"Automates Plank\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have+1)**2,\r\n      \"Iron\": 3 * (have+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    automates: [\"Plank\"],\r\n    unlockAt: {\r\n      \"Iron\": 1,\r\n    },\r\n    position: [6, 1]\r\n  }),\r\n  Pickaxe: new Resource({\r\n    name: \"Pickaxe\",\r\n    description: \"Automatically mines stone\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have + 1)**(have / 100 + 1),\r\n      \"Stone\": 6 * have**1.4,\r\n      \"Copper\": 3 * Math.max(0, have-4)**2,\r\n      \"Iron\": 5 * Math.max(0, have-9)**2,\r\n      \"Gold\": 7 * Math.max(0, have-14)**2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Stone\"],\r\n    unlockAt: {\r\n      \"Plank\": 1\r\n    },\r\n    position: [6, 2]\r\n  }),\r\n  GemstomePickaxe: new Resource({\r\n    name: \"GemstonePickaxe\",\r\n    craftTime: 120,\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    position: [6, 3],\r\n  }),\r\n  Pump: new Resource({\r\n    name: \"Pump\",\r\n    description: \"Generates Water\",\r\n    cost: (have) => ({\r\n      \"Copper\": 5*(have+1)**1.2,\r\n      \"Iron\": 3*(have+1)**1.2,\r\n      \"Gold\": 3*(have+1)**1.2,\r\n    }),\r\n    craftTime: 80,\r\n    automates: [\"Water\"],\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [6, 4]\r\n  }),\r\n  Volcano: new Resource({\r\n    name: \"Volcano\",\r\n    description: \"Automates Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 200,\r\n      \"Lava\": 1*have**2,\r\n    }),\r\n    craftTime: 50,\r\n    automates: [\"Lava\"],\r\n    unlockAt: {\r\n      \"Lava\": 1,\r\n    },\r\n    position: [6, 5]\r\n  }),\r\n  MetalworkFactory: new Resource({\r\n    name: \"MetalworkFactory\",\r\n    description: \"Automates Copper, Iron and Gold\",\r\n    cost: (have) => ({\r\n      \"Copper\": 10*((have+1)**1.15),\r\n      \"Iron\": 10*((have+1)**1.15),\r\n      \"Gold\": 10*((have+1)**1.15),\r\n      \"Pump\": (have+1)*2,\r\n      \"Volcano\": (have+1),\r\n    }),\r\n    craftTime: 200,\r\n    automates: [\"Iron\", \"Gold\", \"Copper\"],\r\n    unlockAt: {\r\n      \"Pump\": 1,\r\n      \"Volcano\": 1,\r\n    },\r\n    position: [6, 6]\r\n  }),\r\n\r\n  Forest: new Resource({\r\n    name: \"Forest\",\r\n    position: [7, 0]\r\n  }),\r\n  Underground: new Resource({\r\n    name: \"Underground\",\r\n    position: [7, 1]\r\n  }),\r\n  Ocean: new Resource({\r\n    name: \"Ocean\",\r\n    position: [7, 2]\r\n  }),\r\n  City: new Resource({\r\n    name: \"City\",\r\n    position: [7, 3]\r\n  }),\r\n  EarthEssence: new Resource({\r\n    name: \"EarthEssence\",\r\n    position: [7, 4]\r\n  }),\r\n\r\n  DivineShard: new Resource({\r\n    name: \"DivineShard\",\r\n    position: [8, 0]\r\n  }),\r\n  ReplicantiBoost: new Resource({\r\n    name: \"ReplicantiBoost\",\r\n    position: [8, 7]\r\n  }),\r\n  Replicanti: new Resource({\r\n    name: \"Replicanti\",\r\n    cost: {\r\n      \"Replicanti\": 1\r\n    },\r\n    craftMultiply: 2,\r\n    effectMultiply: (savefile) => {\r\n      const replicanti = savefile[Resources.Replicanti.order].have;\r\n      const replicantiBoost = savefile[Resources.ReplicantiBoost.order].have;\r\n      const replicantiPow = Math.min(0.95, 0.5 + 0.4/(1/((replicantiBoost**0.9)/50)));\r\n      return (replicantiBoost+1)**1.2*(replicanti+1)**replicantiPow/(replicanti+1);\r\n    },\r\n    automates: [\"Replicanti\"],\r\n    craftTime: 10,\r\n    position: [8, 8]\r\n  }),\r\n};\r\n\r\n\r\n\r\n/** @type {Resource[]} */\r\nexport const ResourceArr = new Array(81).fill(null);\r\nfor (const id in Resources) {\r\n  /** @type {Resource} */\r\n  const Resource = Resources[id];\r\n  const position = 9*Resource.position.y + Resource.position.x;\r\n  ResourceArr[position] = Resource;\r\n}\r\n\r\nexport const AutoConnected = Array.from({ length: 81 }, (_, i) => {\r\n  if (!ResourceArr[i]) return null;\r\n  return ResourceArr.findIndex(e => e && e.automates ? e.automates.includes(ResourceArr[i].name) : false);\r\n});\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @returns {Resource}\r\n */\r\nexport function getResourceByName(name) {\r\n  return Resources[name];\r\n}\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function canBuy(name, savefile) {\r\n  const Resource = getResourceByName(name);\r\n  if (savefile.resources[Resource.order].startTime !== null) return;\r\n\r\n  const cost = Resource.cost(savefile.resources[Resource.order].have);\r\n  \r\n  let bulk = Infinity;\r\n  if (cost === null) return bulk;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _have = savefile.resources[getResourceByName(resourceName).order].have;\r\n    if (_cost > _have) return false;\r\n    bulk = Math.min(bulk, _have/_cost);\r\n  }\r\n  return Math.floor(bulk);\r\n}\r\n/**\r\n * @param {string} name \r\n * @param {boolean} doBulk\r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function buy(name, savefile, doBulk=false) {\r\n  const Resource = getResourceByName(name);\r\n\r\n  const cost = Resource.cost(savefile);\r\n  const bulk = doBulk ? canBuy(savefile) : 1;\r\n  \r\n  if (!bulk) return false;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = bulk * cost[resourceName];\r\n    const _order = getResourceByName(resourceName).order;\r\n    savefile.resources[_order].have -= _cost;\r\n  }\r\n\r\n  savefile.resources[Resource.order].startTime = new Date().getTime();\r\n\r\n  return bulk;\r\n}\r\nexport function getCooldown(name, savefile) {\r\n  const Resource = Resources[name];\r\n  const order = Resource.order;\r\n\r\n  let craftTime = Resource.craftTime*1000;\r\n  if (AutoConnected[order] !== -1) {\r\n    craftTime /= Math.max(1, savefile.resources[AutoConnected[order]].have);\r\n    craftTime /= ResourceArr[AutoConnected[order]].effectMultiply(savefile.resources);\r\n  }\r\n\r\n  return craftTime;\r\n}\r\nexport function isUnlocked(name, savefile) {\r\n  const Resource = Resources[name];\r\n\r\n  if (!Resource || !Resource.unlockAt) return false;\r\n  for (const name in Resource.unlockAt) {\r\n    if (savefile[Resources[name].order].have < Resource.unlockAt[name]) return false;\r\n  }\r\n  return true;\r\n}\r\n","// import produce from 'immer';\r\nimport { savefile } from '../saveload';\r\nimport { Resources, ResourceArr } from '../data/resources';\r\n\r\nconst CRAFT_START = 'resource/CRAFT_START';\r\nconst CRAFT_UPDATE = 'resource/CRAFT_UPDATE';\r\nconst RESOURCE_UNLOCK = 'resource/RESOURCE_UNLOCK';\r\n\r\nexport const craftStart = order => ({\r\n  type: CRAFT_START,\r\n  order\r\n});\r\nexport const craftUpdate = ({\r\n  order,\r\n  canBulk,\r\n  progressIncrement,\r\n}) => ({\r\n  type: CRAFT_UPDATE,\r\n  order,\r\n  canBulk,\r\n  progressIncrement\r\n});\r\nexport const resourceUnlock = order => ({\r\n  type: RESOURCE_UNLOCK,\r\n  order\r\n});\r\n\r\nfunction buyResource(state, cost, bulkMax=0) {\r\n  let bulk = bulkMax;\r\n\r\n  // Check can buy & Bulk count\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    bulk = Math.min(bulk, state[_order].have/_cost);\r\n  }\r\n  bulk = Math.floor(bulk);\r\n  if (bulk <= 0) return false;\r\n\r\n  // Subtract resource\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    state[_order] = {\r\n      ...state[_order],\r\n      have: state[_order].have - _cost*bulk\r\n    };\r\n  }\r\n  return bulk;\r\n}\r\n\r\nfunction reducer(state = savefile.resources, action) {\r\n  const Resource = ResourceArr[action.order];\r\n  if (!Resource) return state;\r\n  const order = action.order;\r\n  const have = state[order].have;\r\n  const cost = Resource.cost(have);\r\n\r\n  switch (action.type) {\r\n    case CRAFT_START:\r\n      state = [...state];\r\n      if (state[order].lastTime !== null) return state;\r\n      const canBuy = buyResource(state, cost, 1);\r\n      if (!canBuy) return state;\r\n\r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: new Date().getTime(),\r\n        progress: 0,\r\n      };\r\n      \r\n      return state;\r\n    case CRAFT_UPDATE:\r\n      state = [...state];\r\n      \r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: new Date().getTime(),\r\n        progress: state[order].progress + action.progressIncrement,\r\n      };\r\n\r\n      if (state[order].progress >= 1) {\r\n        state[order].lastTime = null;\r\n        let bulk = 1;\r\n        if (action.canBulk) {\r\n          bulk += buyResource(state, cost, Math.floor(state[order].progress)-1);\r\n          state[order].have += bulk*Resource.craftMultiply;\r\n          state[order].progress %= 1;\r\n        } else {\r\n          state[order].have += Resource.craftMultiply;\r\n          state[order].progress = 0;\r\n        }\r\n\r\n        const EffectMultiply = Resource.effectMultiply(state);\r\n        // randomGrantOnCraft\r\n        for (let i = 0; i < Resource.randomGrantOnCraft.length; i++) {\r\n          const [chance, toGrant] = Resource.randomGrantOnCraft[i];\r\n          const realChance = chance*EffectMultiply;\r\n          const grantChance = 1-((1-realChance)**bulk); // TODO: Change to better formula\r\n          if (Math.random() < grantChance) {\r\n            state[Resources[toGrant].order] = {\r\n              ...state[Resources[toGrant].order],\r\n              have: state[Resources[toGrant].order].have + 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return state;\r\n    case RESOURCE_UNLOCK:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        unlocked: true\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\nimport { Resources } from '../data/resources';\r\nimport resourceImage from \"../resources/Resources.png\";\r\n\r\nconst RescouceCostTable = styled.div`\r\n  --costCellWidth: calc(var(--cellWidth) / 2);\r\n  --costCellHeight: calc(var(--cellHeight) / 3);\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(calc(var(--cellWidth) / 2), 1fr));\r\n  grid-auto-rows: var(--costCellHeight);\r\n  grid-auto-columns: var(--costCellWidth);\r\n  place-items: center;\r\n`;\r\nconst CostDisplay = styled.div`\r\n  --imageSize: min(var(--costCellWidth), var(--costCellHeight));\r\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\r\n  --imageScale: calc(81 / 8);\r\n\r\n  box-sizing: content-box;\r\n\r\n  width: var(--imageSize);\r\n  height: var(--imageSize);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n\r\n  color: var(--colReverse);\r\n  font-weight: 900;\r\n  text-shadow:\r\n    calc(var(--imageSize) / 60) calc(var(--imageSize) / 60) 0 var(--colMain1),\r\n    calc(var(--imageSize) / -60) calc(var(--imageSize) / -60) 0 var(--colMain1),\r\n    calc(var(--imageSize) / 60) calc(var(--imageSize) / -60) 0 var(--colMain1),\r\n    calc(var(--imageSize) / -60) calc(var(--imageSize) / 60) 0 var(--colMain1);\r\n  text-align: right;\r\n\r\n  border: calc(var(--imageSize) / 15) solid var(--colMain2);\r\n  border-radius: calc(var(--imageSize) / 2);\r\n  background-image: url(${resourceImage});\r\n  background-repeat: no-repeat;\r\n  background-size: calc(100% * var(--imageScale));\r\n  image-rendering: pixelated;\r\n  filter: drop-shadow(calc(var(--min) / 500) calc(var(--min) / 500) 0 var(--colStrong));\r\n`;\r\n\r\nfunction ResourceCost({ cost }) {\r\n  return (\r\n    <RescouceCostTable>\r\n      {\r\n        cost.map(([costResourceName, costQuantity], index) => {\r\n          const costResource = Resources[costResourceName];\r\n\r\n          return (\r\n            <div key={index}>\r\n              <CostDisplay\r\n                style={{backgroundPosition: `calc(var(--resourceGap) * -${costResource.position.x}) calc(var(--resourceGap) * -${costResource.position.y})` }}\r\n              >\r\n                {costQuantity}\r\n              </CostDisplay>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </RescouceCostTable>\r\n  )\r\n}\r\n\r\nexport default ResourceCost;","import { connect, useSelector } from \"react-redux\";\r\nimport { craftStart, craftUpdate } from \"../modules/resources.js\";\r\nimport styled, { keyframes } from 'styled-components';\r\n// eslint-disable-next-line\r\nimport Resource from '../class/Resource';\r\nimport resourceImage from \"../resources/Resources.png\";\r\nimport ResourceCost from \"./ResourceCost.js\";\r\n\r\nconst namespaceAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(100%) scale(0.2, 1);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1, 1);\r\n  }\r\n`;\r\nconst ResourceWarp = styled.div`\r\n  --margin: calc(var(--cellSize) / 10);\r\n  --boxRatio: 1.3;\r\n  --boxSize: calc(var(--cellSize) - var(--margin));\r\n  --cellWidth: calc(var(--boxSize) / var(--boxRatio));\r\n  --cellHeight: var(--boxSize);\r\n  --borderRadius: calc(var(--boxSize) / 15);\r\n\r\n  margin: calc(var(--margin) / 2);\r\n\r\n  width: var(--cellWidth);\r\n  height: var(--cellHeight);\r\n  \r\n  background-color: var(--colMain3);\r\n  border-radius: var(--borderRadius);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  transform: scale(1);\r\n  cursor: pointer;\r\n\r\n  transition: all 0.3s cubic-bezier(0,.79,.32,1);\r\n\r\n  &:hover {\r\n    width: calc(var(--boxSize) / var(--boxRatio) * 2);\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.4);\r\n    z-index: 1;\r\n  }\r\n\r\n  &:hover::before {\r\n    content: attr(name);\r\n\r\n    padding: 1% 5%;\r\n    \r\n    min-width: 60%;\r\n    height: 15%;\r\n\r\n    position: absolute;\r\n    top: -15%;\r\n    left: 5%;\r\n\r\n    color: var(--colMainReverse);\r\n    word-spacing: -0.3em;\r\n    font-size: 0.9em;\r\n    text-align: center;\r\n\r\n    background-color: var(--colMain4);\r\n    border-radius: calc(var(--cellSize) / 30);\r\n\r\n    animation: ${namespaceAppear} 0.4s cubic-bezier(.12,.81,.31,.95);\r\n    \r\n    pointer-events: none;\r\n  }\r\n`;\r\nconst ResourceInfo = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  \r\n  & > span {\r\n    display: inline-block;\r\n\r\n    width: calc(var(--boxSize) / var(--boxRatio));\r\n    height: calc(var(--boxSize));\r\n  }\r\n`;\r\nconst ResourceProgress = styled.span`\r\n  position: absolute;\r\n  bottom: 0;\r\n\r\n  width: 100%;\r\n  height: 0%;\r\n  max-height: 100%;\r\n\r\n  background-color: var(--colOverlay);\r\n  border-radius: var(--borderRadius);\r\n\r\n  z-index: -1;\r\n`;\r\nconst ResourceImage = styled.div`\r\n  --imageSize: calc(var(--boxSize) / var(--boxRatio) - var(--margin));\r\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\r\n  --imageScale: calc(81 / 8);\r\n\r\n  box-sizing: content-box;\r\n  margin: calc(var(--margin) / 2);\r\n\r\n  width: var(--imageSize);\r\n  height: var(--imageSize);\r\n\r\n  background-image: url(${resourceImage});\r\n  background-repeat: no-repeat;\r\n  background-size: calc(100% * var(--imageScale));\r\n  image-rendering: pixelated;\r\n  filter: drop-shadow(var(--baseShadow));\r\n`;\r\nconst ResourceQuantity = styled.div`\r\n  padding-right: calc(var(--boxSize) / 20);\r\n\r\n  text-align: right;\r\n  font-weight: bolder;\r\n  color: var(--colReverse);\r\n`;\r\n\r\n/**\r\n * @param {object} obj\r\n * @param {Resource} obj.data \r\n */\r\nfunction ResourceGridItem({ data, index, craftStart, craftEnd }) {\r\n  const displayName = data ? data.name.replace(/(.)([A-Z])/g, (_, g1, g2) => `${g1} ${g2}`) : \"\";\r\n  const save = useSelector(state => state.resources[index]);\r\n\r\n  const cost = data ? Object.entries(data.cost(save.have) ?? {}) : [];\r\n\r\n  return (save.unlocked ?\r\n    <ResourceWarp\r\n      onClick={() => {\r\n        if (data && Object.keys(data.cost(save.have) ?? {}).length !== 0) craftStart(index)\r\n      }}\r\n      name={displayName}\r\n    >\r\n      {\r\n        data &&\r\n        <ResourceInfo>\r\n          <span>\r\n            <ResourceImage\r\n              style={{backgroundPosition: `calc(var(--resourceGap) * -${data.position.x}) calc(var(--resourceGap) * -${data.position.y})` }}\r\n            ></ResourceImage>\r\n            <ResourceQuantity>\r\n              {save.have}\r\n            </ResourceQuantity>\r\n            <ResourceProgress style={{\r\n              height: `${save.progress * 100}%`\r\n            }}></ResourceProgress>\r\n          </span>\r\n          <ResourceCost cost={cost}/>\r\n        </ResourceInfo>\r\n      }\r\n    </ResourceWarp>\r\n    : <ResourceWarp style={{opacity: 0.3, pointerEvents: \"none\"}}></ResourceWarp>);\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    craftStart,\r\n    craftUpdate,\r\n  }\r\n)(ResourceGridItem);;\r\n","import styled from \"styled-components\";\r\nimport Rescouce from \"./Rescouce.js\";\r\nimport { ResourceArr } from \"../data/resources.js\";\r\n\r\nconst RescouceGrid = styled.div`\r\n  --cellSize: calc(var(--min) / 9);\r\n\r\n  flex: 9;\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(9, minmax(var(--cellSize), 1fr));\r\n  grid-auto-rows: var(--cellSize);\r\n  grid-auto-columns: var(--cellSize);\r\n  place-items: center;\r\n`;\r\nconst OtherContents = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  color: var(--colReverseWeak);\r\n  font-weight: bold;\r\n  font-size: 2em;\r\n  opacity: 0.3;\r\n\r\n  flex: 7;\r\n`;\r\n\r\nfunction ResourceGrid({ save, craftStart }) {\r\n  return (\r\n    <>\r\n      <RescouceGrid>\r\n          {ResourceArr.map((ResourceData, index) => (\r\n            <Rescouce\r\n              key={ResourceData !== null ? ResourceData.name : `empty_${index}`}\r\n              data={ResourceData}\r\n              index={index}\r\n              craftStart={craftStart}\r\n            />\r\n          ))}\r\n      </RescouceGrid>\r\n      <OtherContents>\r\n        - Nothing -\r\n      </OtherContents>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceGrid;\r\n","import \"./font/font.css\";\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport ResourceGrid from \"./components/ResourceGrid.js\"; \r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  \r\n    /* font-family: 'Azeret Mono', monospace; */\r\n    white-space: nowrap;\r\n    \r\n    user-select: none;\r\n  }\r\n  \r\n  body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    color: var(--colReverse);\r\n\r\n    background-color: var(--colMain1);\r\n  }\r\n  body#theme-dark, body:not(#theme-light){\r\n    --colStrong: #000000;\r\n    --colMain1: #191919;\r\n    --colMain2: #2a2a2a;\r\n    --colMain3: #3a3a3a;\r\n    --colMain4: #4a4a4a;\r\n    --colReverse: #ffffff;\r\n    --colReverseWeak: #efefef;\r\n    --colReverseWeaker: #cdcdcd;\r\n    --colAlt1: #13d1f2;\r\n    --colOverlay: #fff3;\r\n  }\r\n  body#theme-light {\r\n    --colStrong: #ffffff;\r\n    --colMain1: #ffffff;\r\n    --colMain2: #efefef;\r\n    --colMain3: #dedede;\r\n    --colMain4: #cdcdcd;\r\n    --colReverse: #191919;\r\n    --colReverseWeak: #2a2a2a;\r\n    --colReverseWeaker: #4a4a4a;\r\n    --colAlt1: #f29913;\r\n    --colOverlay: #0003;\r\n  }\r\n`;\r\nconst MainContainer = styled.div`\r\n  --min: min(var(--w), var(--h));\r\n\r\n  --baseShadow: calc(var(--min) / 250) calc(var(--min) / 250) 0 var(--colStrong);\r\n\r\n  display: flex;\r\n\r\n  width: var(--w);\r\n  height: var(--h);\r\n\r\n  border-radius: calc(var(--min) / 50);\r\n\r\n  transition: \r\n    background-image 0.5s linear,\r\n    background-color 0.3s ease-out;\r\n  \r\n  @media only screen and (orientation: portrait) {\r\n    & {\r\n      --w: 100vw;\r\n      --h: calc(100vw * 9 / 16);\r\n      font-size: calc(var(--w) / 70);\r\n    }\r\n  }\r\n  @media only screen and (orientation: landscape) {\r\n    & {\r\n      --w: 100vh;\r\n      --h: calc(100vh * 9 / 16);\r\n      font-size: calc(var(--h) / 70);\r\n    }\r\n  }\r\n  @media only screen and (min-width: 1600px) and (min-height: 900px) {\r\n    & {\r\n      --w: 1600px;\r\n      --h: 900px;\r\n      font-size: calc(var(--h) / 70);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalStyle />\r\n      <MainContainer>\r\n        <ResourceGrid />\r\n      </MainContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from 'redux';\r\nimport resources from \"./resources.js\";\r\n\r\nconst rootReducer = combineReducers({\r\n  resources\r\n});\r\n\r\nexport default rootReducer;","import { createStore } from 'redux';\r\nimport rootReducer from './modules';\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import store from \"./store.js\";\r\n// eslint-disable-next-line\r\nimport { DefaultSave } from \"./saveload.js\";\r\nimport { Resources, ResourceArr, getCooldown, canBuy, AutoConnected, isUnlocked } from \"./data/resources.js\";\r\nimport { craftStart, craftUpdate, resourceUnlock } from \"./modules/resources.js\";\r\nimport { save } from \"./saveload.js\";\r\n\r\nlet lastSave = new Date().getTime();\r\n\r\nfunction Tick() {\r\n  /**\r\n   * @type {DefaultSave}\r\n   */\r\n  const savefile = store.getState();\r\n  const Time = new Date().getTime();\r\n\r\n  if (Time - lastSave > 5000) save(savefile);\r\n\r\n  for (let i = 0; i < ResourceArr.length; i++) {\r\n    const Resource = ResourceArr[i];\r\n    if (Resource === null) continue;\r\n    const order = i;\r\n    const save = savefile.resources[order];\r\n\r\n    // Check Unlocked\r\n    if (!save.unlocked && isUnlocked(Resource.name, savefile.resources)) {\r\n      store.dispatch(resourceUnlock(order));\r\n    }\r\n\r\n    // Start Automate\r\n    if (Resource.automates && save.have >= 1) {\r\n      for (let j = 0; j < Resource.automates.length; j++) {\r\n        const _Resource = Resources[Resource.automates[j]];\r\n        const _order = _Resource.order;\r\n        if (\r\n          savefile.resources[_order].lastTime !== null ||\r\n          canBuy(_Resource.name, savefile) === 0\r\n        ) continue;\r\n        store.dispatch(craftStart(_order));\r\n      }\r\n    }\r\n\r\n    // Check craft end\r\n    const lastTime = save.lastTime;\r\n    if (lastTime !== null) {\r\n      let craftTime = getCooldown(Resource.name, savefile);\r\n      let progressIncrement = (Time - lastTime)/craftTime;\r\n      store.dispatch(craftUpdate({\r\n        order: i,\r\n        canBulk: 1 <= savefile.resources[AutoConnected[order]]?.have,\r\n        progressIncrement\r\n      }));\r\n    }\r\n  }\r\n}\r\n\r\nexport default Tick;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport tick from \"./tick.js\";\r\nimport { savefile } from \"./saveload.js\";\r\nimport store from \"./store.js\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nsetInterval(() => tick(savefile), 1000/60);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}