(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{29:function(e,n,t){},30:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),i=t.n(o),c=t(6),l=(t(29),t(2)),s=(t(30),t(3)),u=t(5),m=t(13),d=t(4),p="resource_grid",f={resources:Array.from({length:81},(function(e){return{have:0,lastTime:null,progress:0,unlocked:!1}}))};f.resources[0].have=1;var h=function(){var e;return null!==(e=JSON.parse(localStorage.getItem(p)))&&void 0!==e?e:v({},f)}();function v(e,n){var t;for(var a in e=null!==(t=e)&&void 0!==t?t:{},n){var r;if(Array.isArray(n[a]))e[a]=null!==(r=e[a])&&void 0!==r?r:[],g(e[a],n[a]);else if(null===n[a]){var o;e[a]=null!==(o=e[a])&&void 0!==o?o:n[a]}else if("object"===typeof n[a])e[a]=v(e[a],n[a]);else{var i;e[a]=n[a].constructor(null!==(i=e[a])&&void 0!==i?i:n[a])}}return e}function g(e,n){for(var t=0,a=n.length;t<a;t++)if(Array.isArray(n[t]))g(e[t],n[t]);else if(null===n[t]){var r;e[t]=null!==(r=e[t])&&void 0!==r?r:n[t]}else if("object"===typeof n[t])e[t]=v(e[t],n[t]);else{var o;e[t]=n[t].constructor(null!==(o=e[t])&&void 0!==o?o:n[t])}return e}var b=t(16),A=t(17),S=function(){function e(n){var t;Object(b.a)(this,e),this.name=n.name,this.description=n.description,this.unlockAt=n.unlockAt,this._cost=n.cost,this.craftTime=n.craftTime,this.craftMultiply=n.craftMultiply||1,this._position=n.position,this.order=9*this._position[0]+this._position[1],this.randomGrantOnCraft=null!==(t=n.randomGrantOnCraft)&&void 0!==t?t:[],this._effectMultiply=n.effectMultiply,this.noCostIfAutomate=n.noCostIfAutomate||!1,this.automates=n.automates}return Object(A.a)(e,[{key:"position",get:function(){return{x:this._position[1],y:this._position[0]}}},{key:"effectMultiply",value:function(e){return"function"===typeof this._effectMultiply?this._effectMultiply(e):1}},{key:"cost",value:function(e,n){var t;if("undefined"===typeof this._cost||n&&this.noCostIfAutomate)return null;for(var a in t="function"===typeof this._cost?this._cost(e):this._cost,t)t[a]=Math.ceil(t[a]),t[a]<=0&&delete t[a];return t}}]),e}(),w={TreeSeed:new S({name:"TreeSeed",description:"Generate tree",automates:["Tree"],unlockAt:{},position:[0,0]}),Tree:new S({name:"Tree",craftTime:20,unlockAt:{},position:[0,1]}),Log:new S({name:"Log",cost:{Tree:1},craftTime:20,craftMultiply:2,randomGrantOnCraft:[[8e-4,"TreeSeed",0],[.03,"Fruit"]],unlockAt:{Tree:1},position:[0,2]}),Plank:new S({name:"Plank",cost:{Log:1},craftTime:15,craftMultiply:3,unlockAt:{Log:1},position:[0,3]}),Charcoal:new S({name:"Charcoal",cost:{Plank:3},craftTime:3,craftMultiply:4,unlockAt:{CopperOre:1},noCostIfAutomate:!0,position:[0,4]}),Vine:new S({name:"Vine",position:[0,5]}),Mushroom:new S({name:"Mushroom",position:[0,6]}),Fruit:new S({name:"Fruit",unlockAt:{Fruit:1},position:[0,7]}),Wall:new S({name:"Wall",cost:{Brick:3},craftTime:15,unlockAt:{Brick:1},position:[1,5]}),House:new S({name:"House",cost:{Wall:4,Glass:2},craftTime:50,unlockAt:{Wall:1},position:[1,6]}),Citizen:new S({name:"Citizen",cost:function(e){return{House:1,Fruit:5+e}},craftTime:30,unlockAt:{House:1},position:[1,7]}),Stone:new S({name:"Stone",craftTime:20,randomGrantOnCraft:[[.01,"Sand"],[.05,"CopperOre"],[.02,"IronOre"],[.01,"GoldOre"],[.001,"EmeraldStone"]],description:"Chance to grant some ore on craft.\nChance is based on Pickaxe",effectMultiply:function(e){return Math.pow(e[w.Pickaxe.order].have,1.3)},unlockAt:{Pickaxe:1},position:[2,0]}),CopperOre:new S({name:"CopperOre",unlockAt:{CopperOre:1},position:[2,1]}),IronOre:new S({name:"IronOre",unlockAt:{IronOre:1},position:[2,2]}),GoldOre:new S({name:"GoldOre",unlockAt:{GoldOre:1},position:[2,3]}),ShinyStone:new S({name:"ShinyStone",craftTime:50,randomGrantOnCraft:[[.03,"EmeraldStone"],[.01,"AmethystStone"],[.003,"RubyStone"],[.001,"SapphireStone"]],description:"Chance to grant some gem on craft.\nChance is based on Gemstone Pickaxe",effectMultiply:function(e){return e[w.GemstonePickaxe.order].have},unlockAt:{GemstonePickaxe:1},position:[2,4]}),EmeraldStone:new S({name:"EmeraldStone",unlockAt:{EmeraldStone:1},position:[2,5]}),AmethystStone:new S({name:"AmethystStone",unlockAt:{AmethystStone:1},position:[2,6]}),RubyStone:new S({name:"RubyStone",unlockAt:{RubyStone:1},position:[2,7]}),SapphireStone:new S({name:"SapphireStone",unlockAt:{SapphireStone:1},position:[2,8]}),Brick:new S({name:"Brick",cost:{Stone:10,Charcoal:1},craftTime:3,unlockAt:{Stone:1,Charcoal:1},position:[3,0]}),Copper:new S({name:"Copper",cost:{CopperOre:1,Charcoal:1},craftTime:10,unlockAt:{CopperOre:1},position:[3,1]}),Iron:new S({name:"Iron",cost:{IronOre:1,Charcoal:3},craftTime:15,unlockAt:{IronOre:1},position:[3,2]}),Gold:new S({name:"Gold",cost:{GoldOre:1,Charcoal:2},craftTime:10,unlockAt:{GoldOre:1},position:[3,3]}),Emerald:new S({name:"Emerald",cost:{EmeraldStone:10,Lava:1},unlockAt:{EmeraldStone:1},craftTime:30,position:[3,5]}),Amethyst:new S({name:"Amethyst",cost:{AmethystStone:10,Lava:2},craftTime:40,unlockAt:{AmethystStone:1},position:[3,6]}),Ruby:new S({name:"Ruby",cost:{RubyStone:10,Lava:4},craftTime:50,unlockAt:{RubyStone:1},position:[3,7]}),Sapphire:new S({name:"Sapphire",cost:{SapphireStone:10,Lava:8},craftTime:60,unlockAt:{SapphireStone:1},position:[3,8]}),Energy:new S({name:"Energy",craftTime:50,unlockAt:{Citizen:1},position:[4,0]}),PickaxeUpgrade:new S({name:"PickaxeUpgrade",cost:function(e){return{Energy:7*Math.pow(e+1,1.2),Emerald:3*(e-2)}},craftTime:100,unlockAt:{Energy:1,Pickaxe:1},position:[4,1]}),Generator:new S({name:"Generator",cost:function(e){return{Iron:30*(e+1),Lava:1+e,Steam:3*e,Citizen:1+e}},craftTime:100,automates:["Energy"],unlockAt:{Citizen:1},position:[4,7]}),Water:new S({name:"Water",craftTime:100,unlockAt:{Copper:1},position:[5,0]}),Lava:new S({name:"Lava",cost:function(e){return{Stone:100-90*(1-1/(e/14+1)),Charcoal:50-45*(1-1/(e/7+1))}},unlockAt:{Stone:100,Charcoal:1},craftTime:200,position:[5,1]}),Steam:new S({name:"Steam",cost:{Water:10,Lava:5},craftTime:300,craftMultiply:15,unlockAt:{Water:1,Lava:1},position:[5,2]}),Sand:new S({name:"Sand",unlockAt:{Sand:1},position:[5,7]}),Glass:new S({name:"Glass",cost:{Sand:10,Charcoal:3},craftTime:6,unlockAt:{Sand:1},position:[5,8]}),Axe:new S({name:"Axe",description:"Cuts tree",cost:function(e){return{Plank:3*Math.pow(e+1,2)}},craftTime:5,automates:["Log"],unlockAt:{Plank:1},position:[6,0]}),Saw:new S({name:"Saw",description:"Automates Plank",cost:function(e){return{Plank:10*Math.pow(e+1,2),Iron:3*Math.pow(e+1,1.2)}},craftTime:60,automates:["Plank"],unlockAt:{Iron:1},position:[6,1]}),Pickaxe:new S({name:"Pickaxe",description:"Automatically mines stone",cost:function(e){return{Plank:10*Math.pow(e+1,e/100+1),Stone:6*Math.pow(e,1.4),Copper:3*Math.pow(Math.max(0,e-4),2),Iron:5*Math.pow(Math.max(0,e-9),2),Gold:7*Math.pow(Math.max(0,e-14),2)}},craftTime:30,automates:["Stone"],effectMultiply:function(e){var n=1;return n*=e[w.GemstonePickaxe.order].have+1,n*=e[w.PickaxeUpgrade.order].have/3+1},unlockAt:{Plank:1},position:[6,2]}),GemstonePickaxe:new S({name:"GemstonePickaxe",description:"Automatically mines Shiny stone & Boost Pickaxe",cost:function(e){return{Iron:100*(e+1),Emerald:2*(e+1),Amethyst:2*(e-2),Ruby:2*(e-5),Sapphire:2*(e-8)}},craftTime:120,automates:["ShinyStone"],effectMultiply:function(e){var n=1;return n*=e[w.PickaxeUpgrade.order].have/3+1},unlockAt:{Emerald:1},position:[6,3]}),Pump:new S({name:"Pump",description:"Generates Water",cost:function(e){return{Copper:5*Math.pow(e+1,1.2),Iron:3*Math.pow(e+1,1.2),Gold:3*Math.pow(e+1,1.2)}},craftTime:80,automates:["Water"],unlockAt:{Copper:1},position:[6,4]}),Volcano:new S({name:"Volcano",description:"Automates Lava",cost:function(e){return{Stone:200,Lava:1*Math.pow(e+1,e/15+1)}},craftTime:50,automates:["Lava"],unlockAt:{Lava:1},position:[6,5]}),MetalworkFactory:new S({name:"MetalworkFactory",description:"Automates Copper, Iron and Gold",cost:function(e){return{Copper:10*Math.pow(e+1,1.15),Iron:10*Math.pow(e+1,1.15),Gold:10*Math.pow(e+1,1.15),Pump:2*(e+1),Volcano:e+1}},craftTime:200,automates:["Iron","Gold","Copper"],unlockAt:{Pump:1,Volcano:1},position:[6,6]}),CharcoalMiner:new S({name:"CharcoalMiner",description:"Mines Charcoal without any cost",cost:function(e){return{Steam:15*Math.pow(e+1,1.2),Pump:2+e,Iron:50*(e+1)*(1+e/20)}},craftTime:300,automates:["Charcoal"],unlockAt:{MetalworkFactory:1},position:[6,7]}),Forest:new S({name:"Forest",position:[7,0]}),Underground:new S({name:"Underground",position:[7,1]}),Ocean:new S({name:"Ocean",position:[7,2]}),City:new S({name:"City",position:[7,3]}),EarthEssence:new S({name:"EarthEssence",unlockAt:{Forest:1,Underground:1,Ocean:1,City:1},position:[7,4]}),DivineShard:new S({name:"DivineShard",position:[8,0]}),ReplicantiBoost:new S({name:"ReplicantiBoost",unlockAt:{Replicanti:1},position:[8,7]}),Replicanti:new S({name:"Replicanti",cost:{Replicanti:1},craftMultiply:2,effectMultiply:function(e){var n=e[w.Replicanti.order].have,t=e[w.ReplicantiBoost.order].have,a=Math.min(.95,.5+.4/(1/(Math.pow(t,.9)/50)));return Math.pow(t+1,1.2)*Math.pow(n+1,a)/(n+1)},unlockAt:{Replicanti:1},automates:["Replicanti"],craftTime:10,position:[8,8]})},y=new Array(81).fill(null);for(var x in w){var k=w[x],j=9*k.position.y+k.position.x;y[j]=k}var O=Array.from({length:81},(function(e,n){return y[n]?y.findIndex((function(e){return!(!e||!e.automates)&&e.automates.includes(y[n].name)})):null}));function C(e){return w[e]}function M(e,n){var t=C(e);if(null===n.resources[t.order].startTime){var a=t.cost(n.resources[t.order].have),r=1/0;if(null===a)return r;for(var o in a){var i=a[o],c=n.resources[C(o).order].have;if(i>c)return!1;r=Math.min(r,c/i)}return Math.floor(r)}}function R(e,n){var t=w[e],a=t.order,r=1e3*t.craftTime;return-1!==O[a]&&(r/=Math.max(1,n.resources[O[a]].have),r/=y[O[a]].effectMultiply(n.resources)),r}function I(e,n){var t=w[e];if(!t||!t.unlockAt)return!1;for(var a in t.unlockAt)if(n[w[a].order].have<t.unlockAt[a])return!1;return!0}var E="resource/CRAFT_START",z="resource/CRAFT_UPDATE",T="resource/RESOURCE_UNLOCK",G=function(e,n){return{type:E,order:e,isAuto:n}},B=function(e){var n=e.order,t=e.isAuto,a=e.progressIncrement;return{type:z,order:n,isAuto:t,progressIncrement:a}},Q=function(e){return{type:T,order:e}};function V(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t;for(var r in n){var o=n[r],i=w[r].order;a=Math.min(a,e[i].have/o)}if((a=Math.floor(a))<=0)return!1;for(var c in n){var l=n[c],s=w[c].order;e[s]=Object(d.a)(Object(d.a)({},e[s]),{},{have:e[s].have-l*a})}return a}var F,W,D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.resources,n=arguments.length>1?arguments[1]:void 0,t=y[n.order];if(!t)return e;var a=n.order,r=e[a].have,o=t.cost(r,n.isAuto);switch(n.type){case E:if(null!==(e=Object(m.a)(e))[a].lastTime)return e;var i=V(e,o,1);return i?(e[a]=Object(d.a)(Object(d.a)({},e[a]),{},{lastTime:(new Date).getTime(),progress:0}),e):e;case z:if((e=Object(m.a)(e))[a]=Object(d.a)(Object(d.a)({},e[a]),{},{lastTime:(new Date).getTime(),progress:e[a].progress+n.progressIncrement}),e[a].progress>=1){e[a].lastTime=null;var c=1;n.isAuto?(c+=V(e,o,Math.floor(e[a].progress)-1),e[a].have+=c*t.craftMultiply,e[a].progress%=1):(e[a].have+=t.craftMultiply,e[a].progress=0);for(var l=t.effectMultiply(e),s=0;s<t.randomGrantOnCraft.length;s++){var p=Object(u.a)(t.randomGrantOnCraft[s],2),f=p[0],v=p[1],g=f*l,b=1-Math.pow(1-g,c);Math.random()<b&&(e[w[v].order]=Object(d.a)(Object(d.a)({},e[w[v].order]),{},{have:e[w[v].order].have+1}))}}return e;case T:return(e=Object(m.a)(e))[a]=Object(d.a)(Object(d.a)({},e[a]),{},{unlocked:!0}),e;default:return e}},K="data:image/png;base64,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",P=t(1),Y=s.b.div(F||(F=Object(l.a)(["\n  --costCellWidth: calc(var(--cellWidth) / 2);\n  --costCellHeight: calc(var(--cellHeight) / 3);\n\n  display: grid;\n  grid-template-columns: repeat(2, minmax(calc(var(--cellWidth) / 2), 1fr));\n  grid-auto-rows: var(--costCellHeight);\n  grid-auto-columns: var(--costCellWidth);\n  place-items: center;\n"]))),L=s.b.div(W||(W=Object(l.a)(["\n  --imageSize: min(var(--costCellWidth), var(--costCellHeight));\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\n  --imageScale: calc(81 / 8);\n\n  box-sizing: content-box;\n\n  width: var(--imageSize);\n  height: var(--imageSize);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n\n  color: var(--colReverse);\n  font-weight: 900;\n  text-shadow:\n    calc(var(--imageSize) / 60) calc(var(--imageSize) / 60) 0 var(--colMain1),\n    calc(var(--imageSize) / -60) calc(var(--imageSize) / -60) 0 var(--colMain1),\n    calc(var(--imageSize) / 60) calc(var(--imageSize) / -60) 0 var(--colMain1),\n    calc(var(--imageSize) / -60) calc(var(--imageSize) / 60) 0 var(--colMain1);\n  text-align: right;\n\n  border: calc(var(--imageSize) / 15) solid var(--colMain2);\n  border-radius: calc(var(--imageSize) / 2);\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: calc(100% * var(--imageScale));\n  image-rendering: pixelated;\n  filter: drop-shadow(calc(var(--min) / 500) calc(var(--min) / 500) 0 var(--colStrong));\n"])),K);var J,Z,N,U,q,H=function(e){var n=e.cost;return Object(P.jsx)(Y,{children:n.map((function(e,n){var t=Object(u.a)(e,2),a=t[0],r=t[1],o=w[a];return Object(P.jsx)("div",{children:Object(P.jsx)(L,{style:{backgroundPosition:"calc(var(--resourceGap) * -".concat(o.position.x,") calc(var(--resourceGap) * -").concat(o.position.y,")")},children:r})},n)}))})},X=s.b.div(J||(J=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  transform: translateX(100%);\n\n  min-width: 50%;\n  height: var(--boxSize);\n\n  display: flex;\n  flex-direction: column;\n\n  border-radius: 0 calc(var(--boxSize) / 10) calc(var(--boxSize) / 10) 0;\n  background-color: var(--colOverlayReverse);\n\n  pointer-events: none;\n"]))),_=s.b.div(Z||(Z=Object(l.a)(['\n  flex: 1;\n\n  border-radius: 0 calc(var(--boxSize) / 10) 0 0;\n  background-color: var(--colOverlayReverse);\n\n  &::before {\n    font-size: 0.8em;\n    content: "Eff x";\n  }\n']))),$=s.b.div(N||(N=Object(l.a)(["\n  flex: 5;\n"]))),ee=s.b.div(U||(U=Object(l.a)(["\n  --itemHeight: calc(var(--boxSize) / 6);\n\n  height: var(--itemHeight);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 0.8em;\n  font-weight: bold;\n"]))),ne=s.b.span(q||(q=Object(l.a)(["\n  --imageSize: var(--itemHeight);\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\n  --imageScale: calc(81 / 8);\n\n  width: var(--imageSize);\n  height: var(--imageSize);\n\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: calc(100% * var(--imageScale));\n  image-rendering: pixelated;\n"])),K);var te,ae,re,oe,ie,ce,le=Object(c.b)((function(e){return{save:e.resources}}),{craftStart:G,craftUpdate:B})((function(e){var n=e.data,t=e.save,a=n?n.effectMultiply(t):1,r=n.randomGrantOnCraft.map((function(e){return[Math.min(1,e[0]*a),e[1]]}));return 0!==r.length||1!==a?Object(P.jsxs)(X,{children:[Object(P.jsx)(_,{children:a.toFixed(1)}),Object(P.jsx)($,{children:r.map((function(e){var n=Object(u.a)(e,2),a=n[0],r=n[1],o=w[r];return Object(P.jsxs)(ee,{children:[t[o.order].unlocked?Object(P.jsx)(ne,{style:{backgroundPosition:"calc(var(--resourceGap) * -".concat(o.position.x,") calc(var(--resourceGap) * -").concat(o.position.y,")")}}):Object(P.jsx)("span",{children:"?\xa0"}),Object(P.jsxs)("span",{children:[(100*a).toFixed(2).padStart(6,"0"),"%"]})]})}))})]}):Object(P.jsx)(P.Fragment,{})})),se=Object(s.c)(te||(te=Object(l.a)(["\n  from {\n    opacity: 0;\n    transform: translateY(100%) scale(0.2, 1);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1, 1);\n  }\n"]))),ue=s.b.div(ae||(ae=Object(l.a)(["\n  --margin: calc(var(--cellSize) / 10);\n  --boxRatio: 1.3;\n  --boxSize: calc(var(--cellSize) - var(--margin));\n  --cellWidth: calc(var(--boxSize) / var(--boxRatio));\n  --cellHeight: var(--boxSize);\n  --borderRadius: calc(var(--boxSize) / 15);\n\n  margin: calc(var(--margin) / 2);\n\n  width: var(--cellWidth);\n  height: var(--cellHeight);\n  \n  background-color: var(--colMain3);\n  border-radius: var(--borderRadius);\n  box-shadow: var(--baseShadow);\n\n  transform: scale(1);\n  cursor: pointer;\n\n  transition: all 0.3s cubic-bezier(0,.79,.32,1);\n\n  &:hover {\n    width: calc(var(--boxSize) / var(--boxRatio) * 2);\n    background-color: var(--colMain4);\n    transform: scale(1.4);\n    z-index: 1;\n  }\n\n  &:hover::before {\n    content: attr(name);\n\n    padding: 1% 5%;\n    \n    min-width: 60%;\n    height: 15%;\n\n    position: absolute;\n    top: -15%;\n    left: 5%;\n\n    color: var(--colMainReverse);\n    word-spacing: -0.3em;\n    font-size: 0.9em;\n    text-align: center;\n\n    background-color: var(--colMain4);\n    border-radius: calc(var(--cellSize) / 30);\n\n    animation: "," 0.4s cubic-bezier(.12,.81,.31,.95);\n    \n    pointer-events: none;\n  }\n"])),se),me=s.b.div(re||(re=Object(l.a)(["\n  display: flex;\n  overflow: hidden;\n  \n  & > span {\n    display: inline-block;\n\n    width: calc(var(--boxSize) / var(--boxRatio));\n    height: calc(var(--boxSize));\n  }\n"]))),de=s.b.span(oe||(oe=Object(l.a)(["\n  position: absolute;\n  bottom: 0;\n\n  width: 100%;\n  height: 0%;\n  max-height: 100%;\n\n  background-color: var(--colOverlay);\n  border-radius: var(--borderRadius);\n\n  z-index: -1;\n"]))),pe=s.b.div(ie||(ie=Object(l.a)(["\n  --imageSize: calc(var(--boxSize) / var(--boxRatio) - var(--margin));\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\n  --imageScale: calc(81 / 8);\n\n  box-sizing: content-box;\n  margin: calc(var(--margin) / 2);\n\n  width: var(--imageSize);\n  height: var(--imageSize);\n\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: calc(100% * var(--imageScale));\n  image-rendering: pixelated;\n  filter: drop-shadow(var(--baseShadow));\n"])),K),fe=s.b.div(ce||(ce=Object(l.a)(["\n  padding-right: calc(var(--boxSize) / 20);\n\n  text-align: right;\n  font-weight: bolder;\n  color: var(--colReverse);\n"])));var he,ve,ge=Object(c.b)((function(){return{}}),{craftStart:G,craftUpdate:B})((function(e){var n,t=e.data,r=e.index,o=e.craftStart,i=(e.craftEnd,Object(a.useState)(!1)),l=Object(u.a)(i,2),s=l[0],m=l[1],d=t?t.name.replace(/(.)([A-Z])/g,(function(e,n,t){return"".concat(n," ").concat(t)})):"",p=Object(c.c)((function(e){return e.resources[r]})),f=t?Object.entries(null!==(n=t.cost(p.have))&&void 0!==n?n:{}):[];return p.unlocked?Object(P.jsx)(ue,{onClick:function(){var e;t&&0!==Object.keys(null!==(e=t.cost(p.have))&&void 0!==e?e:{}).length&&o(r)},onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},name:d,children:t&&Object(P.jsxs)(me,{children:[Object(P.jsxs)("span",{children:[Object(P.jsx)(pe,{style:{backgroundPosition:"calc(var(--resourceGap) * -".concat(t.position.x,") calc(var(--resourceGap) * -").concat(t.position.y,")")}}),Object(P.jsx)(fe,{children:p.have}),Object(P.jsx)(de,{style:{height:"".concat(100*p.progress,"%")}})]}),Object(P.jsx)(H,{cost:f}),s&&Object(P.jsx)(le,{data:t})]})}):Object(P.jsx)(ue,{style:{opacity:.3,pointerEvents:"none"}})})),be=s.b.div(he||(he=Object(l.a)(["\n  --cellSize: calc(var(--min) / 9);\n\n  flex: 9;\n\n  display: grid;\n  grid-template-columns: repeat(9, minmax(var(--cellSize), 1fr));\n  grid-auto-rows: var(--cellSize);\n  grid-auto-columns: var(--cellSize);\n  place-items: center;\n"]))),Ae=s.b.div(ve||(ve=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  color: var(--colReverseWeak);\n  font-weight: bold;\n  font-size: 2em;\n  opacity: 0.3;\n\n  flex: 7;\n"])));var Se,we,ye=function(e){e.save;var n=e.craftStart;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{children:y.map((function(e,t){return Object(P.jsx)(ge,{data:e,index:t,craftStart:n},null!==e?e.name:"empty_".concat(t))}))}),Object(P.jsx)(Ae,{children:"- Nothing -"})]})},xe=Object(s.a)(Se||(Se=Object(l.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n  \n    /* font-family: 'Azeret Mono', monospace; */\n    white-space: nowrap;\n    \n    user-select: none;\n  }\n  \n  body {\n    width: 100vw;\n    height: 100vh;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    color: var(--colReverse);\n\n    background-color: var(--colMain1);\n  }\n  body#theme-dark, body:not(#theme-light){\n    --colStrong: #000000;\n    --colMain1: #191919;\n    --colMain2: #2a2a2a;\n    --colMain3: #3a3a3a;\n    --colMain4: #4a4a4a;\n    --colReverse: #ffffff;\n    --colReverseWeak: #efefef;\n    --colReverseWeaker: #cdcdcd;\n    --colAlt1: #13d1f2;\n    --colOverlay: #fff3;\n    --colOverlayReverse: #0006;\n  }\n  body#theme-light {\n    --colStrong: #ffffff;\n    --colMain1: #ffffff;\n    --colMain2: #efefef;\n    --colMain3: #dedede;\n    --colMain4: #cdcdcd;\n    --colReverse: #191919;\n    --colReverseWeak: #2a2a2a;\n    --colReverseWeaker: #4a4a4a;\n    --colAlt1: #f29913;\n    --colOverlay: #0003;\n    --colOverlayReverse: #fff6;\n  }\n"]))),ke=s.b.div(we||(we=Object(l.a)(["\n  --min: min(var(--w), var(--h));\n\n  --baseShadow: calc(var(--min) / 250) calc(var(--min) / 250) 0 var(--colStrong);\n\n  display: flex;\n\n  width: var(--w);\n  height: var(--h);\n\n  border-radius: calc(var(--min) / 50);\n\n  transition: \n    background-image 0.5s linear,\n    background-color 0.3s ease-out;\n  \n  @media only screen and (orientation: portrait) {\n    & {\n      --w: 100vw;\n      --h: calc(100vw * 9 / 16);\n      font-size: calc(var(--w) / 70);\n    }\n  }\n  @media only screen and (orientation: landscape) {\n    & {\n      --w: 100vh;\n      --h: calc(100vh * 9 / 16);\n      font-size: calc(var(--h) / 70);\n    }\n  }\n  @media only screen and (min-width: 1600px) and (min-height: 900px) {\n    & {\n      --w: 1600px;\n      --h: 900px;\n      font-size: calc(var(--h) / 70);\n    }\n  }\n"])));var je=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(xe,{}),Object(P.jsx)(ke,{children:Object(P.jsx)(ye,{})})]})},Oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),o(e),i(e)}))},Ce=t(12),Me=Object(Ce.a)({resources:D}),Re=Object(Ce.b)(Me),Ie=(new Date).getTime();var Ee=function(){var e=Re.getState(),n=(new Date).getTime();n-Ie>5e3&&function(e){localStorage.setItem(p,JSON.stringify(e))}(e);for(var t=0;t<y.length;t++){var a,r=y[t];if(null!==r){var o=t,i=e.resources[o],c=1<=(null===(a=e.resources[O[o]])||void 0===a?void 0:a.have);if(!i.unlocked&&I(r.name,e.resources)&&Re.dispatch(Q(o)),r.automates&&i.have>=1)for(var l=0;l<r.automates.length;l++){var s=w[r.automates[l]],u=s.order;null===e.resources[u].lastTime&&0!==M(s.name,e)&&Re.dispatch(G(u,!0))}var m=i.lastTime;if(null!==m){var d=(n-m)/R(r.name,e);Re.dispatch(B({order:t,isAuto:c,progressIncrement:d}))}}}};i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(c.a,{store:Re,children:Object(P.jsx)(je,{})})}),document.getElementById("root")),setInterval((function(){return Ee(h)}),1e3/60),Oe()}},[[33,1,2]]]);
//# sourceMappingURL=main.e6cad89e.chunk.js.map