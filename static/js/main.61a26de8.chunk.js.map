{"version":3,"sources":["saveload.js","class/Resource.js","data/resources.js","modules/resources.js","util/notation.js","resources/Resources.png","components/ResourceImage.js","components/ResourceCost.js","components/ResourceRandom.js","components/Rescouce.js","components/ResourceGrid.js","App.js","reportWebVitals.js","modules/index.js","store.js","tick.js","index.js"],"names":["saveKey","DefaultSave","resources","Array","from","length","_","have","lastTime","progress","unlocked","savefile","JSON","parse","localStorage","getItem","mergeObject","load","target","source","i","isArray","mergeArray","constructor","l","Resource","data","this","name","description","unlockAt","_cost","cost","craftTime","craftMultiply","_position","position","order","randomGrantOnCraft","_effectMultiply","effectMultiply","noCostIfAutomate","automates","x","y","isAuto","resource","Math","ceil","Resources","TreeSeed","Tree","Log","Plank","Charcoal","Vine","Mushroom","Fruit","Orchard","Trap","Animal","TreasureMap","Loot","Wall","House","Citizen","CityBuilder","Stone","Pickaxe","CopperOre","IronOre","GoldOre","ShinyStone","mult","GemstonePickaxe","GemBoost","EmeraldStone","AmethystStone","RubyStone","SapphireStone","Brick","Copper","Iron","Gold","Emerald","Amethyst","Ruby","Sapphire","Energy","PickaxeUpgrade","MetalworkBoost","Generator","GeneratorBoost","Water","Lava","Steam","UpgradePotion","Sand","Glass","Axe","Saw","max","Pump","Volcano","MetalworkFactory","CharcoalMiner","GemCutter","Forest","Underground","Ocean","City","EarthEssence","DivinePowder","DivineShard","ReplicantiBoost","SQRT2","Replicanti","replicanti","replicantiBoost","replicantiPow","ResourceArr","fill","id","AutoConnected","findIndex","e","includes","getResourceByName","canBuy","startTime","bulk","Infinity","resourceName","_have","min","floor","getCooldown","isUnlocked","CRAFT_START","CRAFT_UPDATE","RESOURCE_UNLOCK","craftStart","type","craftUpdate","Time","progressIncrement","resourceUnlock","buyResource","state","bulkMax","_order","reducer","action","Date","getTime","EffectMultiply","chance","toGrant","realChance","grantChance","random","notation1","notation2","notation","OOM","log10","abs","numberPart","toFixed","Number","isInteger","Image","styled","div","ResourceImage","size","style","content","backgroundPosition","RescouceCostTable","ResourceCost","map","index","costResourceName","costQuantity","display","flexDirection","justifyContent","color","fontSize","fontWeight","textShadow","textAlign","border","borderRadius","filter","ResourceRandomTable","EffectDisplay","ChanceTable","ChanceItem","connect","save","RandomTable","padStart","namespaceAppear","keyframes","ResourceWarp","ResourceInfo","ResourceProgress","span","ResourceQuantity","useState","isHover","setHover","displayName","replace","g1","g2","useSelector","Object","entries","onClick","keys","onMouseEnter","onMouseLeave","margin","height","opacity","pointerEvents","AutoToggleButton","RescouceGrid","OtherContents","ResourceGrid","ResourceData","Rescouce","GlobalStyle","createGlobalStyle","MainContainer","App","className","process","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","lastSave","Tick","getState","setItem","stringify","dispatch","j","_Resource","automationDisabled","ReactDOM","render","StrictMode","document","getElementById","setInterval","tick"],"mappings":"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","file":"static/js/main.61a26de8.chunk.js","sourcesContent":["const saveKey = \"resource_grid\";\r\n\r\nexport const DefaultSave = {\r\n  resources: Array.from({ length: 81 }, _ => ({\r\n    have: 0,\r\n    lastTime: null,\r\n    progress: 0,\r\n    unlocked: false\r\n  }))\r\n};\r\nDefaultSave.resources[0].have = 1;\r\n\r\nexport function save(savefile) {\r\n  localStorage.setItem(saveKey, JSON.stringify(savefile));\r\n}\r\n\r\n/** @returns {DefaultSave} */\r\nexport function load() {\r\n  return JSON.parse(localStorage.getItem(saveKey)) ?? mergeObject({}, DefaultSave);\r\n}\r\nexport const savefile = load();\r\n\r\nfunction mergeObject(target, source) {\r\n  target = target ?? {};\r\n  for (const i in source) {\r\n    if (Array.isArray(source[i])) {\r\n      target[i] = target[i] ?? [];\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction mergeArray(target, source) {\r\n  for (let i = 0, l = source.length; i < l; i++) {\r\n    if (Array.isArray(source[i])) {\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","export default class Resource {\r\n  /**\r\n   * @typedef ResourceConstructor\r\n   * @property {string} name - Name of the resource\r\n   * @property {string} description - Description of the resource\r\n   * @property {Object.<stringe, number>} unlockAt - Check resource is unlocked\r\n   * @property {Object.<string, number> | function(number): RescourceEnum.<string, number> } [cost] - {[id]: quantity} | Cost of the resource\r\n   * @property {number} [craftTime] - Crafting/Generating time (in second)\r\n   * @property {number} [craftMultiply] - Craft multiply (default: 1)\r\n   * @property {[number, number]} position - Position on Rescource Grid\r\n   * @property {[number, string][]} [randomGrantOnCraft] - [chance, id] | Randomely grants resource on craft\r\n   * @property {function(object): number} [effectMultiply] - Multiply random chance and Automate speed\r\n   * @property {boolean} [noCostIfAutomate] - yes\r\n   * @property {string[]} [automates] - Automatically craft/generate resource\r\n   */\r\n  /** @param {ResourceConstructor} data */\r\n  constructor(data) {\r\n    this.name = data.name;\r\n    this.description = data.description;\r\n    this.unlockAt = data.unlockAt;\r\n    this._cost = data.cost;\r\n    this.craftTime = data.craftTime;\r\n    this.craftMultiply = data.craftMultiply || 1;\r\n    this._position = data.position;\r\n    this.order = 9*this._position[0] + this._position[1];\r\n    this.randomGrantOnCraft = data.randomGrantOnCraft ?? [];\r\n    this._effectMultiply = data.effectMultiply;\r\n    this.noCostIfAutomate = data.noCostIfAutomate || false;\r\n    this.automates = data.automates;\r\n  }\r\n\r\n  get position() {\r\n    return {\r\n      x: this._position[1],\r\n      y: this._position[0]\r\n    }\r\n  }\r\n\r\n  effectMultiply(savefile) {\r\n    if (typeof this._effectMultiply === 'function') {\r\n      return this._effectMultiply(savefile);\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  cost(have, isAuto) {\r\n    let cost;\r\n    if (typeof this._cost === 'undefined' || (isAuto && this.noCostIfAutomate)) {\r\n      return null;\r\n    } else if (typeof this._cost === 'function') {\r\n      cost = this._cost(have);\r\n    } else {\r\n      cost = this._cost;\r\n    }\r\n\r\n    for (const resource in cost) {\r\n      cost[resource] = Math.ceil(cost[resource]);\r\n      if (cost[resource] <= 0) delete cost[resource];\r\n    }\r\n    return cost;\r\n  }\r\n}\r\n\r\n","// eslint-disable-next-line\r\nimport { DefaultSave } from \"../saveload\";\r\nimport Resource from \"../class/Resource.js\"; \r\n\r\nexport const Resources = {\r\n  TreeSeed: new Resource({\r\n    name: \"TreeSeed\",\r\n    description: \"Generate tree\",\r\n    automates: [\"Tree\"],\r\n    unlockAt: {},\r\n    position: [0, 0]\r\n  }),\r\n  Tree: new Resource({\r\n    name: \"Tree\",\r\n    craftTime: 20,\r\n    unlockAt: {},\r\n    position: [0, 1]\r\n  }),\r\n  Log: new Resource({\r\n    name: \"Log\",\r\n    cost: {\r\n      \"Tree\": 1\r\n    },\r\n    craftTime: 20,\r\n    craftMultiply: 2,\r\n    randomGrantOnCraft: [\r\n      [0.0008, \"TreeSeed\", 0],\r\n      [0.05, \"Fruit\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Tree\": 1,\r\n    },\r\n    position: [0, 2]\r\n  }),\r\n  Plank: new Resource({\r\n    name: \"Plank\",\r\n    cost: {\r\n      \"Log\": 1\r\n    },\r\n    craftTime: 15,\r\n    craftMultiply: 3,\r\n    unlockAt: {\r\n      \"Log\": 1\r\n    },\r\n    position: [0, 3]\r\n  }),\r\n  Charcoal: new Resource({\r\n    name: \"Charcoal\",\r\n    cost: {\r\n      \"Plank\": 3\r\n    },\r\n    craftTime: 3,\r\n    craftMultiply: 4,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    noCostIfAutomate: true,\r\n    position: [0, 4]\r\n  }),\r\n  Vine: new Resource({\r\n    name: \"Vine\",\r\n    unlockAt: {\r\n      \"Vine\": 1\r\n    },\r\n    position: [0, 5]\r\n  }),\r\n  Mushroom: new Resource({\r\n    name: \"Mushroom\",\r\n    unlockAt: {\r\n      \"Mushroom\": 1\r\n    },\r\n    position: [0, 6]\r\n  }),\r\n  Fruit: new Resource({\r\n    name: \"Fruit\",\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Fruit\": 1,\r\n    },\r\n    position: [0, 7]\r\n  }),\r\n\r\n  Orchard: new Resource({\r\n    name: \"Orchard\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 4+(have*2)**1.2,\r\n      \"Fruit\": 1,\r\n      \"Sand\": 1000*(have+1),\r\n      \"Water\": 35*(have+1)**1.1\r\n    }),\r\n    automates: [\"Fruit\"],\r\n    craftTime: 150,\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [1, 0]\r\n  }),\r\n  Trap: new Resource({\r\n    name: \"Trap\",\r\n    cost: {\r\n      \"Iron\": 150,\r\n      \"Energy\": 50,\r\n      \"Glass\": 200,\r\n      \"Fruit\": 1,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Orchard\": 1\r\n    },\r\n    position: [1, 1]\r\n  }),\r\n  Animal: new Resource({\r\n    name: \"Animal\",\r\n    cost: {\r\n      \"Trap\": 1,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Trap\": 1\r\n    },\r\n    position: [1, 2]\r\n  }),\r\n  TreasureMap: new Resource({\r\n    name: \"TreasureMap\",\r\n    cost: {\r\n      \"ShinyStone\": 1000,\r\n      \"Plank\": 1000,\r\n      \"Water\": 50\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Animal\": 1\r\n    },\r\n    position: [1, 3]\r\n  }),\r\n  Loot: new Resource({\r\n    name: \"Loot\",\r\n    cost: {\r\n      \"Citizen\": 1,\r\n      \"Animal\": 1,\r\n      \"TreasureMap\": 1,\r\n      \"Energy\": 200,\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.5, \"TreeSeed\"],\r\n      [0.4, \"Vine\"],\r\n      [0.2, \"Mushroom\"],\r\n      [0.08, \"UpgradePotion\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"TreasureMap\": 1,\r\n    },\r\n    position: [1, 4]\r\n  }),\r\n  Wall: new Resource({\r\n    name: \"Wall\",\r\n    cost: {\r\n      \"Brick\": 3,\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"Brick\": 1,\r\n    },\r\n    position: [1, 5]\r\n  }),\r\n  House: new Resource({\r\n    name: \"House\",\r\n    cost: {\r\n      \"Wall\": 4,\r\n      \"Glass\": 2,\r\n    },\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"Wall\": 1,\r\n    },\r\n    position: [1, 6]\r\n  }),\r\n  Citizen: new Resource({\r\n    name: \"Citizen\",\r\n    cost: {\r\n      \"House\": 1,\r\n      \"Fruit\": 5,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"House\": 1,\r\n    },\r\n    position: [1, 7]\r\n  }),\r\n  CityBuilder: new Resource({\r\n    name: \"CityBuilder\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 3*(have+1)**2,\r\n      \"Energy\": 100*(have+1)**1.6,\r\n      \"Iron\": 300*(have+1)**1.2,\r\n      \"Gold\": 500*(have+1)**1.2\r\n    }),\r\n    craftTime: 200,\r\n    automates: [\"Brick\", \"Wall\", \"House\", \"Glass\", \"Citizen\"],\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n    },\r\n    position: [1, 8]\r\n  }),\r\n\r\n  Stone: new Resource({\r\n    name: \"Stone\",\r\n    craftTime: 20,\r\n    randomGrantOnCraft: [\r\n      [0.05, \"Sand\"],\r\n      [0.05, \"CopperOre\"],\r\n      [0.02, \"IronOre\"],\r\n      [0.01, \"GoldOre\"],\r\n      [0.001, \"EmeraldStone\"],\r\n    ],\r\n    description: \"Chance to grant some ore on craft.\\nChance is based on Pickaxe\",\r\n    effectMultiply: (savefile) => savefile[Resources.Pickaxe.order].have**1.3,\r\n    unlockAt: {\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [2, 0]\r\n  }),\r\n  CopperOre: new Resource({\r\n    name: \"CopperOre\",\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [2, 1]\r\n  }),\r\n  IronOre: new Resource({\r\n    name: \"IronOre\",\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [2, 2]\r\n  }),\r\n  GoldOre: new Resource({\r\n    name: \"GoldOre\",\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [2, 3]\r\n  }),\r\n  ShinyStone: new Resource({\r\n    name: \"ShinyStone\",\r\n    craftTime: 50,\r\n    randomGrantOnCraft: [\r\n      [0.03, \"EmeraldStone\"],\r\n      [0.01, \"AmethystStone\"],\r\n      [0.003, \"RubyStone\"],\r\n      [0.001, \"SapphireStone\"],\r\n    ],\r\n    description: \"Chance to grant some gem on craft.\\nChance is based on Gemstone Pickaxe\",\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have;\r\n      mult *= 1+savefile[Resources.GemBoost.order].have/3;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"GemstonePickaxe\": 1,\r\n    },\r\n    position: [2, 4]\r\n  }),\r\n  EmeraldStone: new Resource({\r\n    name: \"EmeraldStone\",\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    position: [2, 5]\r\n  }),\r\n  AmethystStone: new Resource({\r\n    name: \"AmethystStone\",\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [2, 6]\r\n  }),\r\n  RubyStone: new Resource({\r\n    name: \"RubyStone\",\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [2, 7]\r\n  }),\r\n  SapphireStone: new Resource({\r\n    name: \"SapphireStone\",\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [2, 8]\r\n  }),\r\n\r\n  Brick: new Resource({\r\n    name: \"Brick\",\r\n    cost: {\r\n      \"Stone\": 5,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Stone\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    position: [3, 0],\r\n  }),\r\n  Copper: new Resource({\r\n    name: \"Copper\",\r\n    cost: {\r\n      \"CopperOre\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [3, 1]\r\n  }),\r\n  Iron: new Resource({\r\n    name: \"Iron\",\r\n    cost: {\r\n      \"IronOre\": 1,\r\n      \"Charcoal\": 2\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [3, 2]\r\n  }),\r\n  Gold: new Resource({\r\n    name: \"Gold\",\r\n    cost: {\r\n      \"GoldOre\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [3, 3]\r\n  }),\r\n  Emerald: new Resource({\r\n    name: \"Emerald\",\r\n    cost: {\r\n      \"EmeraldStone\": 10,\r\n      \"Lava\": 1\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.2, \"Steam\"]\r\n    ],\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    craftTime: 30,\r\n    position: [3, 5]\r\n  }),\r\n  Amethyst: new Resource({\r\n    name: \"Amethyst\",\r\n    cost: {\r\n      \"AmethystStone\": 10,\r\n      \"Lava\": 2\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.4, \"Steam\"]\r\n    ],\r\n    craftTime: 40,\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [3, 6]\r\n  }),\r\n  Ruby: new Resource({\r\n    name: \"Ruby\",\r\n    cost: {\r\n      \"RubyStone\": 10,\r\n      \"Lava\": 4\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.6, \"Steam\"]\r\n    ],\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [3, 7]\r\n  }),\r\n  Sapphire: new Resource({\r\n    name: \"Sapphire\",\r\n    cost: {\r\n      \"SapphireStone\": 10,\r\n      \"Lava\": 8\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.8, \"Steam\"]\r\n    ],\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [3, 8]\r\n  }),\r\n\r\n  Energy: new Resource({\r\n    name: \"Energy\",\r\n    craftTime: 50,\r\n    randomGrantOnCraft: [\r\n      [0.01, \"Replicanti\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 0]\r\n  }),\r\n  PickaxeUpgrade: new Resource({\r\n    name: \"PickaxeUpgrade\",\r\n    cost: (have) => ({\r\n      \"Energy\": 7*1.2**(have+1),\r\n      \"Emerald\": 3*(have-2),\r\n    }),\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [4, 1]\r\n  }),\r\n  GemBoost: new Resource({\r\n    name: \"GemBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": (100+have*10)*1.5**(have+1),\r\n      \"Amethyst\": 3*(have+1)**1.1\r\n    }),\r\n    craftTime: 45,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"ShinyStone\": 1,\r\n    },\r\n    position: [4, 2]\r\n  }),\r\n  MetalworkBoost: new Resource({\r\n    name: \"MetalworkBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": 3000*2**(have+1),\r\n      \"UpgradePotion\": 1+have/2,\r\n      \"Iron\": 300*(have/3+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"UpgradePotion\": 1\r\n    },\r\n    position: [4, 3]\r\n  }),\r\n  Generator: new Resource({\r\n    name: \"Generator\",\r\n    cost: (have) => ({\r\n      \"Iron\": 30*(have+1),\r\n      \"Lava\": 1+have,\r\n      \"Steam\": have*3,\r\n      \"Citizen\": 1+have,\r\n    }),\r\n    craftTime: 100,\r\n    effectMultiply: (savefile) => 4**savefile[Resources.GeneratorBoost.order].have,\r\n    automates: [\"Energy\"],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 7]\r\n  }),\r\n  GeneratorBoost: new Resource({\r\n    name: \"GeneratorBoost\",\r\n    cost: (have) => ({\r\n      \"Steam\": 50*(have/2+1),\r\n      \"Replicanti\": 100**(have+2),\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"ReplicantiBoost\": 1\r\n    },\r\n    position: [4, 8]\r\n  }),\r\n\r\n  Water: new Resource({\r\n    name: \"Water\",\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [5, 0]\r\n  }),\r\n  Lava: new Resource({\r\n    name: \"Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 100-90*(1-1/(have/14+1)),\r\n      \"Charcoal\": 50-45*(1-1/(have/7+1))\r\n    }),\r\n    unlockAt: {\r\n      \"Stone\": 100,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 200,\r\n    position: [5, 1]\r\n  }),\r\n  Steam: new Resource({\r\n    name: \"Steam\",\r\n    cost: {\r\n      \"Water\": 10,\r\n      \"Lava\": 5\r\n    },\r\n    craftTime: 60,\r\n    craftMultiply: 15,\r\n    unlockAt: {\r\n      \"Water\": 1,\r\n      \"Lava\": 1,\r\n    },\r\n    position: [5, 2]\r\n  }),\r\n  UpgradePotion: new Resource({\r\n    name: \"UpgradePotion\",\r\n    cost: {\r\n      \"Vine\": 2,\r\n      \"Mushroom\": 1,\r\n      \"Emerald\": 10\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"Vine\": 1,\r\n      \"Mushroom\": 1,\r\n    },\r\n    position: [5, 5]\r\n  }),\r\n  Sand: new Resource({\r\n    name: \"Sand\",\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 7]\r\n  }),\r\n  Glass: new Resource({\r\n    name: \"Glass\",\r\n    cost: {\r\n      \"Sand\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 6,\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 8]\r\n  }),\r\n\r\n  Axe: new Resource({\r\n    name: \"Axe\",\r\n    description: \"Cuts tree\",\r\n    cost: (have) => ({\r\n      \"Plank\": 3 * (have+1)**2\r\n    }),\r\n    craftTime: 5,\r\n    automates: [\"Log\"],\r\n    unlockAt: {\r\n      \"Plank\": 1,\r\n    },\r\n    position: [6, 0]\r\n  }),\r\n  Saw: new Resource({\r\n    name: \"Saw\",\r\n    description: \"Automates Plank\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have+1)**2,\r\n      \"Iron\": 3 * (have+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    automates: [\"Plank\"],\r\n    unlockAt: {\r\n      \"Iron\": 1,\r\n    },\r\n    position: [6, 1]\r\n  }),\r\n  Pickaxe: new Resource({\r\n    name: \"Pickaxe\",\r\n    description: \"Automatically mines stone\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have + 1)**(have / 100 + 1),\r\n      \"Stone\": 6 * have**1.4,\r\n      \"Copper\": 3 * Math.max(0, have-4)**2,\r\n      \"Iron\": 5 * Math.max(0, have-9)**2,\r\n      \"Gold\": 7 * Math.max(0, have-14)**2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Stone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have + 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Plank\": 1\r\n    },\r\n    position: [6, 2]\r\n  }),\r\n  GemstonePickaxe: new Resource({\r\n    name: \"GemstonePickaxe\",\r\n    description: \"Automatically mines Shiny stone & Boost Pickaxe\",\r\n    cost: (have) => ({\r\n      \"Iron\": 100 * (have+1),\r\n      \"Emerald\": 2 * (have+1),\r\n      \"Amethyst\": 2 * (have-2),\r\n      \"Ruby\": 2 * (have-5),\r\n      \"Sapphire\": 2 * (have-8),\r\n    }),\r\n    craftTime: 120,\r\n    automates: [\"ShinyStone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 3],\r\n  }),\r\n  Pump: new Resource({\r\n    name: \"Pump\",\r\n    description: \"Generates Water\",\r\n    cost: (have) => ({\r\n      \"Copper\": 5*(have+1)**1.2,\r\n      \"Iron\": 3*(have+1)**1.2,\r\n      \"Gold\": 3*(have+1)**1.2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Water\"],\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [6, 4]\r\n  }),\r\n  Volcano: new Resource({\r\n    name: \"Volcano\",\r\n    description: \"Automates Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 200,\r\n      \"Lava\": 1*(have+1)**(have/15+1),\r\n    }),\r\n    craftTime: 35,\r\n    automates: [\"Lava\"],\r\n    unlockAt: {\r\n      \"Lava\": 1,\r\n    },\r\n    position: [6, 5]\r\n  }),\r\n  MetalworkFactory: new Resource({\r\n    name: \"MetalworkFactory\",\r\n    description: \"Automates Copper, Iron and Gold\",\r\n    cost: (have) => ({\r\n      \"Copper\": 10*((have+1)**1.15),\r\n      \"Iron\": 10*((have+1)**1.15),\r\n      \"Gold\": 10*((have+1)**1.15),\r\n      \"Pump\": 2,\r\n      \"Volcano\": 1,\r\n    }),\r\n    craftTime: 150,\r\n    automates: [\"Iron\", \"Gold\", \"Copper\"],\r\n    effectMultiply: (savefile) => savefile[Resources.MetalworkBoost.order].have/3+1,\r\n    unlockAt: {\r\n      \"Pump\": 1,\r\n      \"Volcano\": 1,\r\n    },\r\n    position: [6, 6]\r\n  }),\r\n  CharcoalMiner: new Resource({\r\n    name: \"CharcoalMiner\",\r\n    description: \"Mines Charcoal without any cost\",\r\n    cost: (have) => ({\r\n      \"Steam\": 15*(have+1)**1.2,\r\n      \"Pump\": 2,\r\n      \"Iron\": 50*(have+1)*(1+have/20),\r\n      \"Citizen\": 1+have,\r\n    }),\r\n    craftTime: 300,\r\n    automates: [\"Charcoal\"],\r\n    unlockAt: {\r\n      \"MetalworkFactory\": 1,\r\n    },\r\n    position: [6, 7]\r\n  }),\r\n  GemCutter: new Resource({\r\n    name: \"GemCutter\",\r\n    cost: (have) => ({\r\n      \"Energy\": 200*(have+1)**1.2,\r\n      \"Iron\": 1000*(have+1)**1.1,\r\n      \"Water\": 300*(have+1)**1.1,\r\n      \"Lava\": 100*(have+1)**1.1\r\n    }),\r\n    automates: [\"Emerald\", \"Amethyst\", \"Ruby\", \"Sapphire\"],\r\n    craftTime: 300,\r\n    unlockAt: {\r\n      \"CharcoalMiner\": 1,\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 8]\r\n  }),\r\n\r\n  Forest: new Resource({\r\n    name: \"Forest\",\r\n    position: [7, 0]\r\n  }),\r\n  Underground: new Resource({\r\n    name: \"Underground\",\r\n    position: [7, 1]\r\n  }),\r\n  Ocean: new Resource({\r\n    name: \"Ocean\",\r\n    position: [7, 2]\r\n  }),\r\n  City: new Resource({\r\n    name: \"City\",\r\n    position: [7, 3]\r\n  }),\r\n  EarthEssence: new Resource({\r\n    name: \"EarthEssence\",\r\n    unlockAt: {\r\n      \"Forest\": 1,\r\n      \"Underground\": 1,\r\n      \"Ocean\": 1,\r\n      \"City\": 1,\r\n    },\r\n    position: [7, 4]\r\n  }),\r\n\r\n  DivinePowder: new Resource({\r\n    name: \"DivinePowder\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**((have/5)**0.9+6),\r\n      \"Energy\": 100+have**2,\r\n      \"Sapphire\": 1+(have/10)**0.2\r\n    }),\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n      \"Energy\": 1,\r\n    },\r\n    position: [8, 0]\r\n  }),\r\n  DivineShard: new Resource({\r\n    name: \"DivineShard\",\r\n    unlockAt: {\r\n      \"DivinePowder\": 1,\r\n    },\r\n    position: [8, 1]\r\n  }),\r\n  ReplicantiBoost: new Resource({\r\n    name: \"ReplicantiBoost\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**(have+2),\r\n      \"Energy\": Math.SQRT2**(have)*64\r\n    }),\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    position: [8, 7]\r\n  }),\r\n  Replicanti: new Resource({\r\n    name: \"Replicanti\",\r\n    cost: {\r\n      \"Replicanti\": 1\r\n    },\r\n    craftMultiply: 2,\r\n    effectMultiply: (savefile) => {\r\n      const replicanti = savefile[Resources.Replicanti.order].have;\r\n      const replicantiBoost = savefile[Resources.ReplicantiBoost.order].have;\r\n      const replicantiPow = 0.6 + 0.35*(1-1/(replicantiBoost/30+1));\r\n      return 1.5**(replicantiBoost+1)*(replicanti+1)**replicantiPow/(replicanti+1);\r\n    },\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    automates: [\"Replicanti\"],\r\n    craftTime: 30,\r\n    position: [8, 8]\r\n  }),\r\n};\r\n\r\n\r\n\r\n/** @type {Resource[]} */\r\nexport const ResourceArr = new Array(81).fill(null);\r\nfor (const id in Resources) {\r\n  /** @type {Resource} */\r\n  const Resource = Resources[id];\r\n  const position = 9*Resource.position.y + Resource.position.x;\r\n  ResourceArr[position] = Resource;\r\n}\r\n\r\nexport const AutoConnected = Array.from({ length: 81 }, (_, i) => {\r\n  if (!ResourceArr[i]) return null;\r\n  return ResourceArr.findIndex(e => e && e.automates ? e.automates.includes(ResourceArr[i].name) : false);\r\n});\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @returns {Resource}\r\n */\r\nexport function getResourceByName(name) {\r\n  return Resources[name];\r\n}\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function canBuy(name, savefile) {\r\n  const Resource = getResourceByName(name);\r\n  if (savefile.resources[Resource.order].startTime !== null) return;\r\n\r\n  const cost = Resource.cost(savefile.resources[Resource.order].have);\r\n  \r\n  let bulk = Infinity;\r\n  if (cost === null) return bulk;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _have = savefile.resources[getResourceByName(resourceName).order].have;\r\n    if (_cost > _have) return false;\r\n    bulk = Math.min(bulk, _have/_cost);\r\n  }\r\n  return Math.floor(bulk);\r\n}\r\n/**\r\n * @param {string} name \r\n * @param {boolean} doBulk\r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function buy(name, savefile, doBulk=false) {\r\n  const Resource = getResourceByName(name);\r\n\r\n  const cost = Resource.cost(savefile);\r\n  const bulk = doBulk ? canBuy(savefile) : 1;\r\n  \r\n  if (!bulk) return false;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = bulk * cost[resourceName];\r\n    const _order = getResourceByName(resourceName).order;\r\n    savefile.resources[_order].have -= _cost;\r\n  }\r\n\r\n  savefile.resources[Resource.order].startTime = new Date().getTime();\r\n\r\n  return bulk;\r\n}\r\nexport function getCooldown(name, savefile) {\r\n  const Resource = Resources[name];\r\n  const order = Resource.order;\r\n\r\n  let craftTime = Resource.craftTime*1000;\r\n  if (AutoConnected[order] !== -1) {\r\n    craftTime /= Math.max(1, savefile.resources[AutoConnected[order]].have);\r\n    craftTime /= ResourceArr[AutoConnected[order]].effectMultiply(savefile.resources);\r\n  }\r\n\r\n  return craftTime;\r\n}\r\nexport function isUnlocked(name, savefile) {\r\n  const Resource = Resources[name];\r\n\r\n  if (!Resource || !Resource.unlockAt) return false;\r\n  for (const name in Resource.unlockAt) {\r\n    if (savefile[Resources[name].order].have < Resource.unlockAt[name]) return false;\r\n  }\r\n  return true;\r\n}\r\n","// import produce from 'immer';\r\nimport { savefile } from '../saveload';\r\nimport { Resources, ResourceArr } from '../data/resources';\r\n\r\nconst CRAFT_START = 'resource/CRAFT_START';\r\nconst CRAFT_UPDATE = 'resource/CRAFT_UPDATE';\r\nconst RESOURCE_UNLOCK = 'resource/RESOURCE_UNLOCK';\r\n\r\nexport const craftStart = (order, isAuto) => ({\r\n  type: CRAFT_START,\r\n  order,\r\n  isAuto\r\n});\r\nexport const craftUpdate = ({\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement,\r\n}) => ({\r\n  type: CRAFT_UPDATE,\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement\r\n});\r\nexport const resourceUnlock = order => ({\r\n  type: RESOURCE_UNLOCK,\r\n  order\r\n});\r\n\r\nfunction buyResource(state, cost, bulkMax=0) {\r\n  let bulk = bulkMax;\r\n\r\n  // Check can buy & Bulk count\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    bulk = Math.min(bulk, state[_order].have/_cost);\r\n  }\r\n  bulk = Math.floor(bulk);\r\n  if (bulk <= 0) return false;\r\n\r\n  // Subtract resource\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    state[_order] = {\r\n      ...state[_order],\r\n      have: state[_order].have - _cost*bulk\r\n    };\r\n  }\r\n  return bulk;\r\n}\r\n\r\nfunction reducer(state = savefile.resources, action) {\r\n  const Resource = ResourceArr[action.order];\r\n  if (!Resource) return state;\r\n  const order = action.order;\r\n  const have = state[order].have;\r\n  const cost = Resource.cost(have, action.isAuto);\r\n\r\n  switch (action.type) {\r\n    case CRAFT_START:\r\n      state = [...state];\r\n      if (state[order].lastTime !== null) return state;\r\n      const canBuy = buyResource(state, cost, 1);\r\n      if (!canBuy) return state;\r\n\r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: new Date().getTime(),\r\n        progress: 0,\r\n      };\r\n      \r\n      return state;\r\n    case CRAFT_UPDATE:\r\n      state = [...state];\r\n      \r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: action.Time,\r\n        progress: state[order].progress + action.progressIncrement,\r\n      };\r\n\r\n      if (state[order].progress >= 1) {\r\n        state[order].lastTime = null;\r\n        let bulk = 1;\r\n        if (action.isAuto) {\r\n          bulk += buyResource(state, cost, Math.floor(state[order].progress)-1);\r\n          state[order].have += bulk*Resource.craftMultiply;\r\n          state[order].progress %= 1;\r\n        } else {\r\n          state[order].have += Resource.craftMultiply;\r\n          state[order].progress = 0;\r\n        }\r\n\r\n        const EffectMultiply = Resource.effectMultiply(state);\r\n        // randomGrantOnCraft\r\n        for (let i = 0; i < Resource.randomGrantOnCraft.length; i++) {\r\n          const [chance, toGrant] = Resource.randomGrantOnCraft[i];\r\n          const realChance = chance*EffectMultiply;\r\n          const grantChance = 1-((1-realChance)**bulk); // TODO: Change to better formula\r\n          if (Math.random() < grantChance) {\r\n            state[Resources[toGrant].order] = {\r\n              ...state[Resources[toGrant].order],\r\n              have: state[Resources[toGrant].order].have + 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return state;\r\n    case RESOURCE_UNLOCK:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        unlocked: true\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","let notation1 = [\"\", \"K\", \"M\", \"B\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nlet notation2 = [\"\", \"D\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nexport default function notation(x) {\r\n  let OOM = Math.floor(Math.log10(Math.max(1, Math.abs(x))));\r\n  let numberPart = (x/10**(Math.floor(OOM/3)*3)).toFixed(2-OOM%3);\r\n  if (x < 1000 && Number.isInteger(x)) numberPart = x;\r\n  let suffixPart = notation1[Math.floor(OOM/3)%10] + notation2[Math.floor(OOM/30)];\r\n  return numberPart + suffixPart;\r\n}\r\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\nimport resourceImage from \"../resources/Resources.png\";\r\n\r\nconst Image = styled.div`\r\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\r\n  --imageScale: calc(81 / 8);\r\n\r\n  width: var(--imageSize);\r\n  height: var(--imageSize);\r\n\r\n  background-image: url(${resourceImage});\r\n  background-repeat: no-repeat;\r\n  background-size: calc(100% * var(--imageScale));\r\n  image-rendering: pixelated;\r\n  image-rendering: crisp-edges;\r\n`;\r\n\r\nfunction ResourceImage({ size, position, style, content }) {\r\n  return (\r\n    <Image\r\n      style={{\r\n        \"--imageSize\": size,\r\n        backgroundPosition: `calc(var(--resourceGap) * -${position.x}) calc(var(--resourceGap) * -${position.y})`,\r\n        ...style\r\n      }}\r\n    >{content}</Image>\r\n  )\r\n}\r\n\r\nexport default ResourceImage;","import styled from 'styled-components';\r\nimport notation from \"../util/notation.js\";\r\nimport { Resources } from '../data/resources';\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst RescouceCostTable = styled.div`\r\n  --costCellWidth: calc(var(--cellWidth) / 2);\r\n  --costCellHeight: calc(var(--cellHeight) / 3);\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(calc(var(--cellWidth) / 2), 1fr));\r\n  grid-auto-rows: var(--costCellHeight);\r\n  grid-auto-columns: var(--costCellWidth);\r\n  place-items: center;\r\n`;\r\n\r\nfunction ResourceCost({ cost }) {\r\n  return (\r\n    <RescouceCostTable>\r\n      {\r\n        cost.map(([costResourceName, costQuantity], index) => {\r\n          const Resource = Resources[costResourceName];\r\n\r\n          return (\r\n            <div key={index}>\r\n              <ResourceImage\r\n                size=\"min(var(--costCellWidth), var(--costCellHeight))\"\r\n                position={Resource.position}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"flex-end\",\r\n                \r\n                  color: \"var(--colReverse)\",\r\n                  fontSize: \"0.8em\",\r\n                  fontWeight: 900,\r\n                  textShadow:\r\n                    `calc(var(--imageSize) / 30) calc(var(--imageSize) / 30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / -30) calc(var(--imageSize) / -30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / 30) calc(var(--imageSize) / -30) 0 var(--colMain1),\r\n                    calc(var(--imageSize) / -30) calc(var(--imageSize) / 30) 0 var(--colMain1)`,\r\n                  textAlign: \"right\",\r\n                \r\n                  border: \"calc(var(--imageSize) / 15) solid var(--colMain2)\",\r\n                  borderRadius: \"calc(min(var(--costCellWidth), var(--costCellHeight)) / 2)\",\r\n                  filter: \"drop-shadow(calc(var(--min) / 500) calc(var(--min) / 500) 0 var(--colStrong))\"\r\n                }}\r\n                content={notation(costQuantity)}\r\n              />\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </RescouceCostTable>\r\n  )\r\n}\r\n\r\nexport default ResourceCost;","import { connect } from \"react-redux\";\r\nimport { craftStart, craftUpdate } from \"../modules/resources.js\";\r\nimport styled from 'styled-components';\r\nimport notation from \"../util/notation.js\";\r\nimport { Resources } from \"../data/resources.js\";\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst ResourceRandomTable = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  transform: translateX(100%);\r\n\r\n  min-width: 60%;\r\n  height: var(--boxSize);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) calc(var(--boxSize) / 10) 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  pointer-events: none;\r\n`;\r\nconst EffectDisplay = styled.div`\r\n  flex: 1;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) 0 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  &::before {\r\n    font-size: 0.8em;\r\n    content: \"Eff x\";\r\n  }\r\n`;\r\nconst ChanceTable = styled.div`\r\n  flex: 5;\r\n`;\r\nconst ChanceItem = styled.div`\r\n  --itemHeight: calc(var(--boxSize) / 6);\r\n\r\n  height: var(--itemHeight);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n`;\r\n\r\n\r\nfunction ResourceRandom({ data, save }) {\r\n  const EffectMultiply = data ? data.effectMultiply(save) : 1;\r\n  const RandomTable = data.randomGrantOnCraft.map(e => [Math.min(1, e[0]*EffectMultiply), e[1]]);\r\n\r\n  return (RandomTable.length !== 0 || EffectMultiply !== 1 ?\r\n    <ResourceRandomTable>\r\n      <EffectDisplay>{notation(EffectMultiply)}</EffectDisplay>\r\n      <ChanceTable>\r\n        {RandomTable.map(([chance, resource]) => {\r\n          const Resource = Resources[resource];\r\n          return (\r\n            <ChanceItem\r\n              key={Resource.name}\r\n            >\r\n              {save[Resource.order].unlocked ? <ResourceImage\r\n                size=\"var(--itemHeight)\"\r\n                position={Resource.position}\r\n              /> : <span>?&nbsp;</span>}\r\n              <span>{(chance*100).toFixed(2).padStart(6, \"0\")}%</span>\r\n            </ChanceItem>\r\n          );\r\n        })}\r\n      </ChanceTable>\r\n    </ResourceRandomTable>\r\n  : <></>);\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    save: state.resources\r\n  }),\r\n  {\r\n    craftStart,\r\n    craftUpdate\r\n  }\r\n)(ResourceRandom);\r\n","import { useState } from 'react';\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport { craftStart } from \"../modules/resources.js\";\r\nimport styled, { keyframes } from 'styled-components';\r\nimport notation from \"../util/notation.js\";\r\n// eslint-disable-next-line\r\nimport Resource from '../class/Resource';\r\nimport ResourceImage from \"./ResourceImage.js\";\r\nimport ResourceCost from \"./ResourceCost.js\";\r\nimport ResourceRandomTable from \"./ResourceRandom.js\";\r\n\r\nconst namespaceAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(100%) scale(0.2, 1);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1, 1);\r\n  }\r\n`;\r\nconst ResourceWarp = styled.div`\r\n  --margin: calc(var(--cellSize) / 10);\r\n  --boxRatio: 1.3;\r\n  --boxSize: calc(var(--cellSize) - var(--margin));\r\n  --cellWidth: calc(var(--boxSize) / var(--boxRatio));\r\n  --cellHeight: var(--boxSize);\r\n  --borderRadius: calc(var(--boxSize) / 15);\r\n\r\n  margin: calc(var(--margin) / 2);\r\n\r\n  width: var(--cellWidth);\r\n  height: var(--cellHeight);\r\n  \r\n  background-color: var(--colMain3);\r\n  border-radius: var(--borderRadius);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  transform: scale(1);\r\n  cursor: pointer;\r\n\r\n  transition: all 0.3s cubic-bezier(0,.79,.32,1);\r\n\r\n  &:hover {\r\n    width: calc(var(--boxSize) / var(--boxRatio) * 2);\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.4);\r\n    z-index: 1;\r\n  }\r\n\r\n  &:hover::before {\r\n    content: attr(name);\r\n\r\n    padding: 1% 5%;\r\n    \r\n    min-width: 60%;\r\n    height: 15%;\r\n\r\n    position: absolute;\r\n    top: -15%;\r\n    left: 5%;\r\n\r\n    color: var(--colMainReverse);\r\n    word-spacing: -0.3em;\r\n    font-size: 0.9em;\r\n    text-align: center;\r\n\r\n    background-color: var(--colMain4);\r\n    border-radius: calc(var(--cellSize) / 30);\r\n\r\n    animation: ${namespaceAppear} 0.4s cubic-bezier(.12,.81,.31,.95);\r\n    \r\n    pointer-events: none;\r\n  }\r\n`;\r\nconst ResourceInfo = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  \r\n  & > span {\r\n    display: inline-block;\r\n\r\n    width: calc(var(--boxSize) / var(--boxRatio));\r\n    height: calc(var(--boxSize));\r\n  }\r\n`;\r\nconst ResourceProgress = styled.span`\r\n  position: absolute;\r\n  bottom: 0;\r\n\r\n  width: 100%;\r\n  height: 0%;\r\n  max-height: 100%;\r\n\r\n  background-color: var(--colOverlay);\r\n  border-radius: var(--borderRadius);\r\n\r\n  z-index: -1;\r\n`;\r\nconst ResourceQuantity = styled.div`\r\n  padding-right: calc(var(--boxSize) / 20);\r\n\r\n  text-align: right;\r\n  font-weight: bolder;\r\n  color: var(--colReverse);\r\n`;\r\n\r\n/**\r\n * @param {object} obj\r\n * @param {Resource} obj.data \r\n */\r\nfunction ResourceGridItem({ data, index, craftStart }) {\r\n  const [isHover, setHover] = useState(false);\r\n\r\n  const displayName = data ? data.name.replace(/(.)([A-Z])/g, (_, g1, g2) => `${g1} ${g2}`) : \"\";\r\n  const save = useSelector(state => state.resources[index]);\r\n\r\n  const cost = data ? Object.entries(data.cost(save.have) ?? {}) : [];\r\n\r\n  return (save.unlocked ?\r\n    <ResourceWarp\r\n      onClick={() => {\r\n        if (data && Object.keys(data.cost(save.have) ?? {}).length !== 0) craftStart(index)\r\n      }}\r\n      onMouseEnter={() => setHover(true)}\r\n      onMouseLeave={() => setHover(false)}\r\n      name={displayName}\r\n    >\r\n      {\r\n        data &&\r\n        <ResourceInfo>\r\n          <span>\r\n            <ResourceImage\r\n              size=\"calc(var(--boxSize) / var(--boxRatio) - var(--margin))\"\r\n              position={data.position}\r\n              style={{\r\n                filter: \"drop-shadow(var(--baseShadow))\",\r\n                margin: \"calc(var(--margin) / 2)\"\r\n              }}\r\n            ></ResourceImage>\r\n            <ResourceQuantity>\r\n              {notation(save.have)}\r\n            </ResourceQuantity>\r\n            <ResourceProgress style={{\r\n              height: `${save.progress * 100}%`\r\n            }}></ResourceProgress>\r\n          </span>\r\n          {\r\n            isHover &&\r\n            <>\r\n              <ResourceCost cost={cost}/>\r\n              <ResourceRandomTable\r\n                data={data}\r\n              />\r\n            </>\r\n          }\r\n        </ResourceInfo>\r\n      }\r\n    </ResourceWarp>\r\n    : <ResourceWarp style={{opacity: 0.3, pointerEvents: \"none\"}}></ResourceWarp>);\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    craftStart,\r\n  }\r\n)(ResourceGridItem);;\r\n","import { useState } from 'react';\r\nimport styled from \"styled-components\";\r\nimport Rescouce from \"./Rescouce.js\";\r\nimport { ResourceArr } from \"../data/resources.js\";\r\n\r\nconst AutoToggleButton = styled.div`\r\n  position: absolute;\r\n  left: calc(var(--h) / 50);\r\n  bottom: calc(var(--w) / 100);\r\n  \r\n  color: var(--colReverseWeak);\r\n\r\n  background-color: var(--colMain3);\r\n`;\r\nconst RescouceGrid = styled.div`\r\n  --cellSize: calc(var(--min) / 9);\r\n\r\n  flex: 9;\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(9, minmax(var(--cellSize), 1fr));\r\n  grid-auto-rows: var(--cellSize);\r\n  grid-auto-columns: var(--cellSize);\r\n  place-items: center;\r\n`;\r\nconst OtherContents = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  color: var(--colReverseWeak);\r\n  font-weight: bold;\r\n  font-size: 2em;\r\n  opacity: 0.3;\r\n\r\n  flex: 7;\r\n`;\r\n\r\nfunction ResourceGrid({ save, craftStart }) {\r\n  const [autoToggle, setAutoToggle] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <AutoToggleButton>\r\n        Toggle Auto\r\n      </AutoToggleButton>\r\n      <RescouceGrid>\r\n          {ResourceArr.map((ResourceData, index) => (\r\n            <Rescouce\r\n              key={ResourceData !== null ? ResourceData.name : `empty_${index}`}\r\n              data={ResourceData}\r\n              index={index}\r\n              craftStart={craftStart}\r\n            />\r\n          ))}\r\n      </RescouceGrid>\r\n      <OtherContents>\r\n        - Nothing -\r\n      </OtherContents>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceGrid;\r\n","import \"./font/font.css\";\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport ResourceGrid from \"./components/ResourceGrid.js\"; \r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  \r\n    /* font-family: 'Azeret Mono', monospace; */\r\n    white-space: nowrap;\r\n    \r\n    user-select: none;\r\n  }\r\n  \r\n  body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    color: var(--colReverse);\r\n\r\n    background-color: var(--colMain1);\r\n  }\r\n  body#theme-dark, body:not(#theme-light){\r\n    --colStrong: #000000;\r\n    --colMain1: #191919;\r\n    --colMain2: #2a2a2a;\r\n    --colMain3: #3a3a3a;\r\n    --colMain4: #4a4a4a;\r\n    --colReverse: #ffffff;\r\n    --colReverseWeak: #efefef;\r\n    --colReverseWeaker: #cdcdcd;\r\n    --colAlt1: #13d1f2;\r\n    --colOverlay: #fff3;\r\n    --colOverlayReverse: #0006;\r\n  }\r\n  body#theme-light {\r\n    --colStrong: #ffffff;\r\n    --colMain1: #ffffff;\r\n    --colMain2: #efefef;\r\n    --colMain3: #dedede;\r\n    --colMain4: #cdcdcd;\r\n    --colReverse: #191919;\r\n    --colReverseWeak: #2a2a2a;\r\n    --colReverseWeaker: #4a4a4a;\r\n    --colAlt1: #f29913;\r\n    --colOverlay: #0003;\r\n    --colOverlayReverse: #fff6;\r\n  }\r\n`;\r\nconst MainContainer = styled.div`\r\n  --min: min(var(--w), var(--h));\r\n\r\n  --baseShadow: calc(var(--min) / 250) calc(var(--min) / 250) 0 var(--colStrong);\r\n\r\n  display: flex;\r\n\r\n  width: var(--w);\r\n  height: var(--h);\r\n\r\n  border-radius: calc(var(--min) / 50);\r\n\r\n  transition: \r\n    background-image 0.5s linear,\r\n    background-color 0.3s ease-out;\r\n  \r\n  @media only screen and (orientation: portrait) {\r\n    & {\r\n      --w: 100vw;\r\n      --h: calc(100vw * 9 / 16);\r\n      font-size: calc(var(--w) / 70);\r\n    }\r\n  }\r\n  @media only screen and (orientation: landscape) {\r\n    & {\r\n      --w: 100vh;\r\n      --h: calc(100vh * 9 / 16);\r\n      font-size: calc(var(--h) / 70);\r\n    }\r\n  }\r\n  @media only screen and (min-width: 1600px) and (min-height: 900px) {\r\n    & {\r\n      --w: 1600px;\r\n      --h: 900px;\r\n      font-size: calc(var(--h) / 70);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalStyle />\r\n      <MainContainer>\r\n        {\r\n          !process.env.NODE_ENV || process.env.NODE_ENV === 'development' &&\r\n          <span style={{\r\n            top: 0, left: 0,\r\n            position: 'absolute',\r\n            color: \"var(--colReverse)\",\r\n            fontSize: \"1.3em\",\r\n            pointerEvents: \"none\",\r\n            opacity: 0.6,\r\n            fontWeight: \"bold\"\r\n          }}>Dev Mode Activated</span>\r\n        }\r\n        <ResourceGrid />\r\n      </MainContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from 'redux';\r\nimport resources from \"./resources.js\";\r\n\r\nconst rootReducer = combineReducers({\r\n  resources\r\n});\r\n\r\nexport default rootReducer;","import { createStore } from 'redux';\r\nimport rootReducer from './modules';\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import store from \"./store.js\";\r\n// eslint-disable-next-line\r\nimport { DefaultSave } from \"./saveload.js\";\r\nimport { Resources, ResourceArr, getCooldown, canBuy, AutoConnected, isUnlocked } from \"./data/resources.js\";\r\nimport { craftStart, craftUpdate, resourceUnlock } from \"./modules/resources.js\";\r\nimport { save } from \"./saveload.js\";\r\n\r\nlet lastSave = new Date().getTime();\r\n\r\nfunction Tick() {\r\n  /**\r\n   * @type {DefaultSave}\r\n   */\r\n  const savefile = store.getState();\r\n  const Time = new Date().getTime();\r\n\r\n  if (Time - lastSave > 5000) save(savefile);\r\n\r\n  for (let i = 0; i < ResourceArr.length; i++) {\r\n    const Resource = ResourceArr[i];\r\n    if (Resource === null) continue;\r\n    const order = i;\r\n    const save = savefile.resources[order];\r\n    const isAuto = 1 <= savefile.resources[AutoConnected[order]]?.have;\r\n\r\n    // Check Unlocked\r\n    if (!save.unlocked && (save.have >= 1 || isUnlocked(Resource.name, savefile.resources))) {\r\n      store.dispatch(resourceUnlock(order));\r\n    }\r\n\r\n    // Start Automate\r\n    if (Resource.automates && save.have >= 1) {\r\n      for (let j = 0; j < Resource.automates.length; j++) {\r\n        const _Resource = Resources[Resource.automates[j]];\r\n        const _order = _Resource.order;\r\n        if (\r\n          savefile.resources[_order].lastTime !== null ||\r\n          canBuy(_Resource.name, savefile) === 0 ||\r\n          savefile.resources[_order].automationDisabled\r\n        ) continue;\r\n        store.dispatch(craftStart(_order, true));\r\n      }\r\n    }\r\n\r\n    // Check craft end\r\n    const lastTime = save.lastTime;\r\n    if (lastTime !== null) {\r\n      let craftTime = getCooldown(Resource.name, savefile);\r\n      let progressIncrement = (Time - lastTime)/craftTime;\r\n      store.dispatch(craftUpdate({\r\n        order: i,\r\n        isAuto,\r\n        Time,\r\n        progressIncrement\r\n      }));\r\n    }\r\n  }\r\n}\r\n\r\nexport default Tick;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport tick from \"./tick.js\";\r\nimport { savefile } from \"./saveload.js\";\r\nimport store from \"./store.js\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nsetInterval(() => tick(savefile), 1000/60);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}